<div class="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <app-sub-header *ngIf="isShowSection('offerInformation')" [isCancel]="true"
                [isEdit]="offerInformation == 2 && !isEditSection('offerInformation')" (cancelClicked)="oncancelClick()"
                (editClicked)="onEditClick()">
            </app-sub-header>

            <div class="col-12" *ngIf="isView || isEdit">
                <h5 *ngIf="offerdata && offerdata.IsActive != 1" class="text-danger font-weight-bold"> {{
                    offerInactiveText }} </h5>
                <div class="row">
                    <div class="col-12 col-xl-1 col-lg-1 col-md-1 col-sm-1">
                        <label>Offer No </label>
                        <input type="text" class="form-control" value="{{offerNo}}" [attr.disabled]="true" />

                    </div>
                    <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-2">
                        <div *ngIf="sonumber != ''">
                            <label>SO Number</label>
                            <input type="text" class="form-control" value="{{sonumber}}" [attr.disabled]="true" />
                        </div>
                    </div>
                    <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-2">
                        <label>Status</label>
                        <input type="text" class="form-control" value="{{offerApprovalStatus}}"
                            [attr.disabled]="true" />
                    </div>
                    <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-3">
                        <div *ngIf="offerdata && offerdata.Status < 80">
                            <label>Action Required</label>
                            <input type="text" class="form-control" value="{{offerdata.ActionRequired}}"
                                [attr.disabled]="true" />
                        </div>
                    </div>
                    <!-- <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-3">
                        <div *ngIf="offerdata && offerdata.Status > 10">
                            <label>Export PDF</label>
                            <button class="btn btn-info"
                            (click)="generateOfferPDF()"><i></i>{{offerdirectpdf}}</button>
                        </div>
                    </div> -->
                    <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-4 text-right mt-2"
                        *ngIf="isShowSection('managepo')">
                        <div class="form-group">
                            <!-- <button class="btn btn-info" (click)="onGenerateOfferPDFClick('indirect')"
                                *ngIf="isOfferInderect"><i></i>{{offerindirectpdf}}</button> &nbsp; -->
                            <button class="btn btn-info"
                                (click)="onGenerateOfferPDFClick('direct')"><i></i>{{offerdirectpdf}}</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="row">
                        <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 text-right pr-0">
                            <button type="button" class="btn btn-orange-outline ml-2" (click)="acc.expandAll()">Expand
                                All</button>
                            <button type="button" class="btn btn-orange-outline ml-2"
                                (click)="acc.collapseAll()">Collapse
                                All</button>
                        </div>
                        <ngb-accordion #acc="ngbAccordion" [destroyOnHide]="false" activeIds="ngb-panel-0, ngb-panel-1">
                            <div class="col-12" *ngIf="isShowSection('offerInformation')">
                               
                                <ngb-panel id="ngb-panel-0">
                                    <ng-template ngbPanelTitle let-opened="opened">Offer Information</ng-template>
                                    <ng-template ngbPanelContent>
                                        <form class="ng-invalid ng-touched ng-dirty" [formGroup]="OfferInformationForm">
                                            <div class="row"
                                                *ngIf="isRefrenceOffer || (offerdata && offerdata.RefOfferId)">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <div style="float: left;">
                                                            <label for="reasonforclone" class="required">Reason for
                                                                Clone</label>
                                                        </div>
                                                        <div style="float: right;">
                                                            <span *ngIf="isAdd">
                                                                <i class="fas fa-exclamation"></i> <i>
                                                                    {{500 - ReasonforClone?.length}} characters
                                                                    left.</i></span>
                                                        </div>
                                                        <textarea rows=" 3" cols="50" class="form-control"
                                                            maxlength="512" formControlName="reasonforclone"
                                                            [attr.disabled]="!isAdd  ? '' : null"
                                                            [ngClass]="{ 'is-invalid': clonesubmitted && offerInformationForm.reasonforclone.errors }"
                                                            [(ngModel)]="ReasonforClone" maxlength="500"></textarea>
                                                        <div *ngIf="clonesubmitted && offerInformationForm.reasonforclone.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.reasonforclone.errors.required">
                                                                Reason for Clone is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <h5>Opportunity</h5>
                                                </div>
                                                <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive"
                                                            id="table-opportunity">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th>LAPP Opportunity Id</th>
                                                                    <th>Opportunity Name</th>
                                                                    <th>Account Name</th>
                                                                    <th class="text-right">Opportunity Value</th>
                                                                    <th class="text-right">Offer Value</th>
                                                                    <th>Owner</th>
                                                                    <th>Created Date</th>
                                                                    <th>Closed Date</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngIf="oppoData">
                                                                    <td>{{oppoData.lappopportunityid}}</td>
                                                                    <td>{{oppoData.opportunity_name}}</td>
                                                                    <td>{{oppoData.customername}}</td>
                                                                    <td class="text-right">
                                                                        {{oppoData.oppValue | currency:'INR'}}
                                                                    </td>
                                                                    <td class="text-right">
                                                                        {{converttocurrency(totalnetvalue -
                                                                        (totalnetvalue * DealerCommisionPer / 100)) |
                                                                        number: '1.2-2'}}
                                                                    </td>
                                                                    <td>{{oppoData.fullname}}</td>
                                                                    <td>{{oppoData.createddate | date:dateformate}}</td>
                                                                    <td>{{oppoData.expiredate | date:dateformate}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label class="required">Vertical</label>
                                                        <ng-select [items]="verticalList" class="form-control"
                                                            formControlName="vertical"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.vertical.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.vertical.errors"
                                                            class="invalid-feedback">
                                                            <div *ngIf="offerInformationForm.vertical.errors.required">
                                                                Vertical is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label class="required">Segment</label>
                                                        <ng-select [items]="segmentList" class="form-control"
                                                            formControlName="segment"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.segment.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.segment.errors"
                                                            class="invalid-feedback">
                                                            <div *ngIf="offerInformationForm.segment.errors.required">
                                                                Segment is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isEditSection('offerInformation')">
                                                    <div class="form-group">
                                                        <label class="required">Offer Valid From</label>
                                                        <div class="input-group"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offersValidfrom.errors }">
                                                            <input class="form-control doc-date"
                                                                formcontrolname="offersValidfrom" ngbDatepicker
                                                                #offersValidfrom="ngbDatepicker"
                                                                [value]="formatter.format(offervalidfromDate)"
                                                                (dateSelect)="onOffValidFromDateSelection($event)"
                                                                readonly [minDate]="todayMinDate"
                                                                [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offersValidfrom.errors }" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-outline-secondary calendar"
                                                                    (click)="offersValidfrom.toggle()"
                                                                    type="button"></button>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="submitted && offerInformationForm.offersValidfrom.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.offersValidfrom.errors.required">
                                                                Offer Valid From is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="!isEditSection('offerInformation')">
                                                    <label>Offer Valid From</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="offersValidfrom">
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isEditSection('offerInformation')">
                                                    <div class="form-group">
                                                        <label class="required">Offer Valid To</label>
                                                        <div class="input-group"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offersValidto.errors }">
                                                            <input class="form-control doc-date"
                                                                formcontrolname="offersValidto" ngbDatepicker
                                                                #offersValidto="ngbDatepicker"
                                                                [value]="formatter.format(offervalidtoDate)"
                                                                (dateSelect)="onOffValidToDateSelection($event)"
                                                                [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offersValidto.errors }"
                                                                readonly [maxDate]="offerValidMaxdate"
                                                                [minDate]="offerValidMindate" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-outline-secondary calendar"
                                                                    (click)="offersValidto.toggle()"
                                                                    type="button"></button>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="submitted && offerInformationForm.offersValidto.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.offersValidto.errors.required">
                                                                Offer Valid To is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="!isEditSection('offerInformation')">
                                                    <label>Offer Valid To</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="offersValidto">
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="offerType" class="required">Offer Type</label>
                                                        <ng-select [items]="offerTypeList" class="form-control"
                                                            formControlName="offerType" bindLabel="description"
                                                            bindValue="code" (change)="offertypechange($event)"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offerType.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.offerType.errors"
                                                            class="invalid-feedback">
                                                            <div *ngIf="offerInformationForm.offerType.errors.required">
                                                                Offer Type is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isOfferInderect">
                                                    <div class="form-group">
                                                        <label for="delearcommission" class="required">Dealer
                                                            Margin(%)</label>
                                                        <input class="form-control" type="text"
                                                            formControlName="delearcommission" numericwithdecimal
                                                            decimals="2" beforedecimals="2"
                                                            [(ngModel)]="DealerCommisionPer"
                                                            [attr.disabled]="!isEditSection('offerInformation')  ? '' : null"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.delearcommission.errors }">
                                                        <div *ngIf="submitted && offerInformationForm.delearcommission.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.delearcommission.errors.required">
                                                                Dealer Margin(%) is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                    <div class="form-group">
                                                        <label>Industry Key</label>
                                                        <input type="text" formControlName="industry"
                                                            class="form-control" [attr.disabled]="true" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label class="required">Currency</label>
                                                        <ng-select [items]="currencyTypeList" class="form-control"
                                                            formControlName="currencyType" bindLabel="description"
                                                            bindValue="code" (change)="onCurrencyChange($event)"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.currencyType.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.currencyType.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.currencyType.errors.required">
                                                                Currency is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                    <div class="form-group">
                                                        <label>Sold to Party</label>
                                                        <input type="text" formControlName="soldtopartyType"
                                                            class="form-control" [attr.disabled]="true" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"
                                                    *ngIf="oppoData && oppoData.sapid && !isOfferInderect">
                                                    <div class="form-group">
                                                        <label for="shiptopartyType">Ship to party</label>
                                                        <input type="text" formControlName="shiptopartyType"
                                                            class="form-control" [attr.disabled]="true" />
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"
                                                    *ngIf="oppoData && oppoData.sapid && isOfferInderect">
                                                    <div class="form-group">
                                                        <label for="shiptopartyType">Ship to party</label>
                                                        <ng-select [items]="shiptopartyList" class="form-control"
                                                            formControlName="shiptopartyType" bindLabel="fullname"
                                                            bindValue="partner">
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="headerleveldiscount">
                                                            Header Discount (%)</label>
                                                        <input class="form-control" type="text"
                                                            formControlName="headerleveldiscount" numericwithdecimal
                                                            decimals="2" beforedecimals="4"
                                                            (change)="onHeaderLevelDiscountChange()"
                                                            [attr.disabled]="!isEditSection('offerInformation')  ? '' : null">
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isEditSection('offerInformation')">
                                                    <div class="form-group">
                                                        <label for="offerreqdeliverydate" class="required">Req. Delivery
                                                            Date</label>
                                                        <div class="input-group"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offerreqdeliverydate.errors }">
                                                            <input class="form-control doc-date"
                                                                formcontrolname="offerreqdeliverydate" ngbDatepicker
                                                                #offerreqdeliverydate="ngbDatepicker" readonly
                                                                [value]="formatter.format(offerreqdeliveryDate)"
                                                                (dateSelect)="onOfferReqDeliveryDateSelection($event)"
                                                                [minDate]="todayMinDate"
                                                                [ngClass]="{ 'is-invalid': submitted && offerInformationForm.offerreqdeliverydate.errors }" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-outline-secondary calendar"
                                                                    (click)="offerreqdeliverydate.toggle()"
                                                                    type="button"></button>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="submitted && offerInformationForm.offerreqdeliverydate.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.offerreqdeliverydate.errors.required">
                                                                Req. Delivery Date is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="!isEditSection('offerInformation')">
                                                    <label class="required">Req. Delivery Date</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="offerreqdeliverydate">
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="incoterms" class="required">Incoterms</label>
                                                        <ng-select [items]="incotermsList" class="form-control"
                                                            formControlName="incoterms" bindLabel="description"
                                                            bindValue="code" (change)="onIncoTermsChange($event)"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.incoterms.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.incoterms.errors"
                                                            class="invalid-feedback">
                                                            <div *ngIf="offerInformationForm.incoterms.errors.required">
                                                                Incoterms is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isShowFromToLocation">
                                                    <div class="form-group">
                                                        <label for="fromlocation" class="required">From Location</label>
                                                        <ng-select [items]="fromlocationList" class="form-control"
                                                            formControlName="fromlocation" bindLabel="fromlocation"
                                                            bindValue="fromlocation" (change)="onFromLocationChange()"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.fromlocation.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.fromlocation.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.fromlocation.errors.required">
                                                                From Location is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                    *ngIf="isShowFromToLocation">
                                                    <div class="form-group">
                                                        <label for="tolocation" class="required">To Location</label>
                                                        <ng-select [items]="tolocationList" class="form-control"
                                                            formControlName="tolocation" bindLabel="tolocation"
                                                            bindValue="tolocation" (change)="onToLocationChange()"
                                                            [ngClass]="{ 'is-invalid': submitted && offerInformationForm.tolocation.errors }">
                                                        </ng-select>
                                                        <div *ngIf="submitted && offerInformationForm.tolocation.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="offerInformationForm.tolocation.errors.required">
                                                                To Location is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="nacecode">Nace Code</label>
                                                        <ng-select [items]="NacecodeList" class="form-control"
                                                            formControlName="nacecode" bindLabel="nacecodefull"
                                                            bindValue="code" [attr.disabled]="true">
                                                        </ng-select>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="nacelevel">Level</label>
                                                        <input class="form-control" type="text"
                                                            formControlName="nacelevel" [attr.disabled]="true">
                                                    </div>
                                                </div>
                                                <!-- <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="nacemodel">Model</label>
                                                        <input class="form-control" type="text"
                                                            formControlName="nacemodel" [attr.disabled]="true">
                                                    </div>
                                                </div> -->
                                                <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                    <div class="form-group">
                                                        <label for="businessmodel">Business Model</label>
                                                        <input class="form-control" type="text"
                                                            formControlName="businessmodel" [attr.disabled]="true">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-xl-4 col-lg-4 col-md-3 col-sm-12"
                                                    *ngIf="isOfferInderect">
                                                    <div class="form-group">
                                                        <label for="dealers">Dealer</label>
                                                        <ng-select [items]="DealersList" class="form-control"
                                                            formControlName="dealers" bindLabel="dealerfullname"
                                                            bindValue="dealerfullname"
                                                            placeholder="Type 3 char to search"
                                                            (keyup)="GetDealersList()" labelForId="ngSelectDealers">
                                                        </ng-select>
                                                        <!--[ngClass]="{ 'is-invalid': submitted && offerInformationForm.dealers.errors }" 
                                                            <div *ngIf="submitted && offerInformationForm.dealers.errors"
                                                            class="invalid-feedback">
                                                            <div *ngIf="offerInformationForm.dealers.errors.required">
                                                                Dealers is required
                                                            </div>
                                                        </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </ng-template>
                                </ngb-panel>
                                <ngb-panel id="ngb-panel-1">
                                    <ng-template ngbPanelTitle>Items</ng-template>
                                    <ng-template ngbPanelContent>
                                        <form class="ng-invalid ng-touched ng-dirty" [formGroup]="ItemsForm">

                                            <div class="row" *ngIf="!isHarnessing">
                                                <div class="col-4 col-xl-4 col-lg-4 col-md-4 col-sm-4 text-left mb-2">
                                                    <ng-container *ngIf="isEditSection('offerInformation')">
                                                        <button type="button" class="btn btn-danger mr-2"
                                                            *ngIf="stdItem || sprItem"
                                                            (click)="OpenDeleteAllPopup()">Delete
                                                            All
                                                        </button>
                                                    </ng-container>
                                                    <button class="btn btn-link p-0"
                                                        (click)="onProductFinderClick()">Product Finder
                                                    </button>
                                                    <button class="btn btn-link p-0 ml-2"
                                                        (click)="onProductCatalogueClick()">Product Catalogue
                                                    </button>

                                                </div>
                                                <div class="col-8 col-xl-8 col-lg-8 col-md-8 col-sm-8 text-right mb-2">
                                                    <ng-container *ngIf="isEditSection('offerInformation')">
                                                        <button type="button" class="btn btn-orange-s ml-2"
                                                            (click)="openImportItemsModal(ImportItems)">Import Item
                                                            (MFG/TRD)
                                                        </button>
                                                        <button type="button" class="btn btn-orange-s ml-2"
                                                            (click)="openLg(content1, undefined)">Add Item
                                                            (MFG/TRD)</button>
                                                        <button type="button" class="btn btn-orange-s ml-2"
                                                            (click)="openImportSPRItemsModal()">Import Item (SPR)
                                                        </button>
                                                        <button type="button" class="btn btn-orange-s ml-2"
                                                            (click)="openSPRItemMoal(SPRItemContent, undefined)">Add
                                                            Item
                                                            (SPR)
                                                        </button>
                                                    </ng-container>
                                                    <button type="button" class="btn btn-orange-s ml-2"
                                                        (click)="exportOfferItem()">Export
                                                    </button>
                                                </div>

                                                <div class="row" *ngIf="stdItem"
                                                    class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <div class="overflow-auto">
                                                        <table *ngIf="!isExportOrder && offerItemStd.length > 0"
                                                            class="table table-hover table-responsive table-sorting"
                                                            id="table-offer-item">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th width="85px">Action</th>
                                                                    <th width="20px"></th>
                                                                    <th width="80px">Seq No.</th>
                                                                    <th width="150px">Article No</th>
                                                                    <th width="50px">SAP ID</th>
                                                                    <th width="50px">Type</th>
                                                                    <th>Description</th>
                                                                    <th width="50px" style="text-align: right;">Unit
                                                                        Price ({{currencycode | currencySymbol}})</th>
                                                                    <th width="100px" style="text-align: right;">Qty
                                                                    </th>
                                                                    <th width="120px" style="text-align: right;">List
                                                                        Price ({{currencycode | currencySymbol}})
                                                                    </th>
                                                                    <th width="100px" style="text-align: right;">
                                                                        Discount (%)</th>
                                                                    <th width="150px" style="text-align: right;">Net
                                                                        Value ({{currencycode | currencySymbol}})</th>
                                                                    <th width="150px" style="text-align: right;">
                                                                        Cutting Charges ({{currencycode |
                                                                        currencySymbol}})</th>
                                                                    <th width="120px" style="text-align: right;"
                                                                        *ngIf="isShowOverallRGroupMargin">R. GM(%)</th>
                                                                    <th width="100px" style="text-align: right;"
                                                                        *ngIf="isShowOverallMargin">GM(%)</th>
                                                                    <th width="100px" style="text-align: right;"
                                                                        *ngIf="isShowOverallMargin">T. GM(%)</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let stditem of filterDatatoDeletewithOrder(offerItemStd); let j=index;"
                                                                    (dblclick)="openLg(content1, j)">
                                                                    <td *ngIf="isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="OpenItemDeletePopup(j, stditem.id, stditem.articleNo)"
                                                                            [attr.disabled]="!isEditSection('offerInformation')  ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-delete.svg"></button>
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openLg(content1, j)"
                                                                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-edit.svg"></button>
                                                                    </td>
                                                                    <td *ngIf="!isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openLg(content1,j)"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-view.svg"></button>
                                                                    </td>
                                                                    <td>
                                                                        <span title="Expired item(s)" class="dot orange"
                                                                            *ngIf="stditem.isexpire == 1 && isEditSection('offerInformation') && isExpiredItemsinOffer"></span>
                                                                    </td>
                                                                    <td>{{stditem.seqno}}</td>
                                                                    <td>
                                                                        <div
                                                                            *ngIf="stditem.itemType==='SPR' && stditem.sprform_status!==null;else other_content">
                                                                            <button type="button"
                                                                                class="btn btn-link p-0"
                                                                                (click)="openDataSheet(stditem,j,true)">{{stditem.articleNo}}</button>
                                                                        </div>
                                                                        <ng-template #other_content>
                                                                            {{stditem.articleNo}}
                                                                        </ng-template>
                                                                    </td>

                                                                    <td>{{stditem.sapid}}</td>
                                                                    <td>{{stditem.itemType == 'STD' ? 'MFG' :
                                                                        stditem.itemType}}

                                                                    </td>
                                                                    <td>{{stditem.description}}</td>

                                                                    <td align="right">
                                                                        {{ converttocurrency(stditem.unitprice -
                                                                        (stditem.unitprice * DealerCommisionPer / 100))
                                                                        | number: '1.2-2'}}
                                                                    </td>

                                                                    <td align="right">{{stditem.quantity}}</td>
                                                                    <td align="right">
                                                                        {{converttocurrency(stditem.price) |
                                                                        number: '1.2-2'}}
                                                                    </td>
                                                                    <td align="right">
                                                                        {{finddiscountper(stditem.discountPer, 2)}}
                                                                    </td>

                                                                    <td align="right">
                                                                        {{converttocurrency((stditem.unitprice -
                                                                        (stditem.unitprice * DealerCommisionPer / 100))
                                                                        * stditem.quantity) | number: '1.2-2'}}
                                                                        <!-- {{converttocurrency(findnetunitprice(stditem.unitprice, stditem.quantity)) | number: '1.2-2'}} -->
                                                                    </td>
                                                                    <td align="right">
                                                                        {{converttocurrency(stditem.cuttingcharges) |
                                                                        number: '1.2-2'}}
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowItemRMCGrossMargin">
                                                                        {{stditem.RMCGrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowItemMargin">
                                                                        {{stditem.GrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowItemMargin">
                                                                        {{stditem.TargetGrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            <tfoot>
                                                                <tr style="background-color: #f5f5f5;">
                                                                    <td colspan="11" align="right">
                                                                        Freight
                                                                        Charges({{currencycode | currencySymbol}}):
                                                                    </td>
                                                                    <td colspan="5">
                                                                        <div
                                                                            class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                                            <input class="form-control" type="text"
                                                                                formControlName="freightcharges"
                                                                                numericwithdecimal decimals="2"
                                                                                beforedecimals="18"
                                                                                style="text-align: right;"
                                                                                (change)="onFreightChagesChange()"
                                                                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null" />
                                                                            <!-- value="{{OfferFreightCharges}}" -->
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="11" align="right">
                                                                        <strong>Total Amount:</strong>
                                                                    </td>
                                                                    <td align="right">
                                                                        <strong>{{converttocurrency(totalnetvalue -
                                                                            (totalnetvalue * DealerCommisionPer / 100) +
                                                                            OfferFreightCharges) |
                                                                            number: '1.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right">
                                                                        <strong>{{converttocurrency(offerlevelcuttingcharges)
                                                                            | number: '1.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowOverallRGroupMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalRMCGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowOverallMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowOverallMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalTargetGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                </tr>
                                                            </tfoot>
                                                        </table>
                                                        <table *ngIf="isExportOrder && offerItemStd.length > 0"
                                                            class="table table-hover table-responsive table-sorting"
                                                            id="table-opportunities">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th width="85px">Action</th>
                                                                    <th width="20px"></th>
                                                                    <th width="80px">Seq No.</th>
                                                                    <th width="150px">Article No</th>
                                                                    <th width="50px">SAP ID</th>
                                                                    <th width="50px">Type</th>
                                                                    <th>Description</th>
                                                                    <!-- <th width="50px" style="text-align: right;">CU Index[Kg/KM]</th> -->
                                                                    <th width="120px" style="text-align: right;">
                                                                        ALP(Mtr) </th>
                                                                    <th width="100px" style="text-align: right;">
                                                                        Disc.(%)</th>
                                                                    <th width="120px" style="text-align: right;">
                                                                        Price(Mtr)</th>
                                                                    <th width="100px" style="text-align: right;">
                                                                        Sur.(Mtr)</th>
                                                                    <!-- <th width="50px" style="text-align: right;">Unit Price(Mtr)</th> -->
                                                                    <th width="120px" style="text-align: right;">Base
                                                                        Price</th>
                                                                    <th width="50px" style="text-align: center;">UOM
                                                                    </th>
                                                                    <th width="80px" style="text-align: right;">
                                                                        Qty(Mtr/PC)</th>
                                                                    <th width="150px" style="text-align: right;">Net
                                                                        Value</th>

                                                                    <th width="120px" style="text-align: right;"
                                                                        *ngIf="isShowOverallRGroupMargin">R. GM(%)</th>
                                                                    <th width="120px" style="text-align: right;"
                                                                        *ngIf="isShowOverallMargin">GM(%)</th>
                                                                    <th width="120px" style="text-align: right;"
                                                                        *ngIf="isShowOverallMargin">T. GM(%)</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let stditem of filterDatatoDeletewithOrder(offerItemStd); let j=index;"
                                                                    (dblclick)="openLg(content1, j)">
                                                                    <td *ngIf="isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="OpenItemDeletePopup(j, stditem.id, stditem.articleNo)"
                                                                            [attr.disabled]="!isEditSection('offerInformation')  ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-delete.svg"></button>
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openLg(content1, j)"
                                                                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-edit.svg"></button>
                                                                    </td>
                                                                    <td *ngIf="!isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openLg(content1,j)"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-view.svg"></button>
                                                                    </td>
                                                                    <td>
                                                                        <span title="Expired item(s)" class="dot orange"
                                                                            *ngIf="stditem.isexpire == 1 && isEditSection('offerInformation') && isExpiredItemsinOffer"></span>
                                                                    </td>
                                                                    <td>{{stditem.seqno}}</td>
                                                                    <td>{{stditem.articleNo}}</td>
                                                                    <td>{{stditem.sapid}}</td>
                                                                    <td>{{stditem.itemType == 'STD' ? 'MFG' :
                                                                        stditem.itemType}}</td>
                                                                    <td>{{stditem.description}}</td>
                                                                    <!-- <td align="right"></td> -->
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency(stditem.price) |
                                                                        number: '1.2-2'}} </td>
                                                                    <td style="text-align: right;">
                                                                        {{finddiscountper(stditem.discountPer, 2)}}</td>
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency((stditem.price -
                                                                        (stditem.price *
                                                                        finddiscountper(stditem.discountPer, -1)/100)))
                                                                        | number: '1.2-2'}}</td>
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency(stditem.exp_surcharge) |
                                                                        number: '1.2-2'}}</td>
                                                                    <!-- <td style="text-align: right;">{{ ((stditem.unitprice - stditem.exp_surcharge) - ((stditem.unitprice - stditem.exp_surcharge) * DealerCommisionPer / 100)) | currency:'INR'}}</td> -->
                                                                    <td style="text-align: right;">{{
                                                                        converttocurrency(((stditem.unitprice -
                                                                        stditem.exp_surcharge) - ((stditem.unitprice -
                                                                        stditem.exp_surcharge) * DealerCommisionPer /
                                                                        100)) * (stditem.uom.toUpperCase() == 'PC'? 100
                                                                        : 1000)) | number: '1.2-2'}}</td>
                                                                    <td style="text-align: center;">
                                                                        {{stditem.uom.toUpperCase() == 'PC'? '100PC' :
                                                                        'KM'}}</td>
                                                                    <td style="text-align: right;">{{stditem.quantity}}
                                                                    </td>
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency((stditem.unitprice -
                                                                        (stditem.unitprice * DealerCommisionPer / 100))
                                                                        * stditem.quantity) | number: '1.2-2'}}
                                                                    </td>

                                                                    <td align="right" *ngIf="isShowItemRMCGrossMargin">
                                                                        {{stditem.RMCGrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowItemMargin">
                                                                        {{stditem.GrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowItemMargin">
                                                                        {{stditem.TargetGrossMargin | percent:'2.2-2'}}
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            <tfoot>
                                                                <tr style="background-color: #f5f5f5;">
                                                                    <td colspan="14" align="right">
                                                                        Freight
                                                                        Charges({{currencycode | currencySymbol}}):
                                                                    </td>
                                                                    <td colspan="4">
                                                                        <div
                                                                            class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                                            <input class="form-control" type="text"
                                                                                formControlName="freightcharges"
                                                                                numericwithdecimal decimals="2"
                                                                                beforedecimals="18"
                                                                                style="text-align: right;"
                                                                                (change)="onFreightChagesChange()"
                                                                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null" />
                                                                            <!-- value="{{OfferFreightCharges}}" -->
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="14" align="right">
                                                                        <strong>Total Amount:</strong>
                                                                    </td>
                                                                    <td align="right">
                                                                        <strong>{{converttocurrency(totalnetvalue -
                                                                            (totalnetvalue * DealerCommisionPer / 100) +
                                                                            OfferFreightCharges) |
                                                                            number: '1.2-2'}}</strong>
                                                                    </td>

                                                                    <td align="right" *ngIf="isShowOverallRGroupMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalRMCGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowOverallMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                    <td align="right" *ngIf="isShowOverallMargin">
                                                                        <strong>
                                                                            {{offerdata.TotalTargetGrossMargin |
                                                                            percent:'2.2-2'}}</strong>
                                                                    </td>
                                                                </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row"
                                                    *ngIf="filterSPRDatatoDeletewithOrder(offerItemSPR).length > 0"
                                                    class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">

                                                    <div class="row">
                                                        <div
                                                            class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-4 text-left mb-2">
                                                            <h5 class="bluetext">Open SPR Items</h5>
                                                        </div>
                                                        <div
                                                            class="col-12 col-xl-8 col-lg-8 col-md-8 col-sm-8 text-right mb-2">
                                                            <button type="button" class="btn btn-orange-s ml-2"
                                                                (click)="onExportSPRForm()">
                                                                Export SPR Form Datasheet
                                                            </button>
                                                            <button type="button" class="btn btn-orange-s ml-2"
                                                                (click)="onImportSPRForm()"
                                                                *ngIf="isEditSection('offerInformation')">
                                                                Import SPR Form Datasheet
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive table-sorting"
                                                            id="table-opportunities">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th width="80px">Action</th>
                                                                    <th width="80px">Seq No</th>
                                                                    <th width="220px">Article No</th>
                                                                    <th>Description</th>
                                                                    <th>Quantity</th>
                                                                    <th width="150px">Status</th>
                                                                    <th width="250px">Action Required</th>
                                                                    <th>Datasheet</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let spritem of filterSPRDatatoDeletewithOrder(offerItemSPR); let j=index;"
                                                                    (dblclick)="openSPRItemMoal(SPRItemContent, j)">
                                                                    <td *ngIf="isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="OpenSPRItemDeletePopup(j, spritem.spritemId, spritem.articleno)"
                                                                            [attr.disabled]="!isEditSection('offerInformation')  ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-delete.svg"></button>
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openSPRItemMoal(SPRItemContent, j)"
                                                                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-edit.svg"></button>
                                                                    </td>
                                                                    <td *ngIf="!isEditSection('offerInformation')">
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="openSPRItemMoal(SPRItemContent,j)"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-view.svg"></button>
                                                                    </td>
                                                                    <td>{{spritem.seqno}}</td>
                                                                    <td>{{spritem.articleno}}</td>
                                                                    <td>{{spritem.description}}</td>
                                                                    <td>{{spritem.sprquantity}}</td>
                                                                    <td>{{spritem.showstatus}}</td>
                                                                    <td>{{spritem.actionrequired}}</td>
                                                                    <td>
                                                                        <button type="button" class="btn btn-link p-0"
                                                                            (click)="openDataSheetWithSPR(spritem,j, isEditSection('offerInformation') ? false : true)">
                                                                            {{ spritem.sprform_status == 10 ? 'Pending'
                                                                            : 'Completed' }}
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row" *ngIf="deletedItem"
                                                    class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <p> </p>
                                                    <h5 class="redtext">Deleted Items</h5>
                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive table-sorting"
                                                            id="table-opportunities">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th width="80px">Action</th>
                                                                    <th width="80px">Seq No</th>
                                                                    <th width="150px">Article No</th>
                                                                    <th width="70px">Type</th>
                                                                    <th>Description</th>
                                                                    <th width="50px" style="text-align: right;">Unit
                                                                        Price</th>
                                                                    <th width="100px" style="text-align: right;">Qty
                                                                    </th>
                                                                    <th width="120px" style="text-align: right;">List
                                                                        Price
                                                                    </th>
                                                                    <th width="100px" style="text-align: right;">
                                                                        Discount (%)</th>
                                                                    <th width="150px" style="text-align: right;">Net
                                                                        Value</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let delitem of offerDeletedItem; let j=index;"
                                                                    (dblclick)="onDeletedItemView(DeletedItem, j)">
                                                                    <td>
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="onDeletedItemView(DeletedItem,j)"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-view.svg"></button>
                                                                    </td>
                                                                    <td>{{delitem.seqno}}</td>
                                                                    <td>{{delitem.articleNo}}</td>
                                                                    <td>{{delitem.itemType == 'STD' ? 'MFG' :
                                                                        delitem.itemType}}
                                                                    </td>
                                                                    <td>{{delitem.description}}</td>
                                                                    <td align="right">
                                                                        {{converttocurrency(delitem.unitprice -
                                                                        (delitem.unitprice * DealerCommisionPer / 100))
                                                                        | number: '1.2-2'}}
                                                                    </td>
                                                                    <td style="text-align: right;">{{delitem.quantity}}
                                                                    </td>
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency(delitem.price) |
                                                                        number: '1.2-2'}}
                                                                    </td>
                                                                    <td style="text-align: right;">
                                                                        {{delitem.discountPer}} </td>
                                                                    <td style="text-align: right;">
                                                                        {{converttocurrency(delitem.netvalue) |
                                                                        number: '1.2-2'}}
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row" *ngIf="deletedSPRItem"
                                                    class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <p> </p>
                                                    <h5 class="redtext">Deleted SPR Items</h5>
                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive table-sorting"
                                                            id="table-opportunities">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th>Action</th>
                                                                    <th>Seq No</th>
                                                                    <th>Article No</th>
                                                                    <th>Description</th>
                                                                    <th>Quantity</th>
                                                                    <th>User</th>
                                                                    <th>Reject Reason</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let delitem of offerItemSPRdeletedata; let j=index;"
                                                                    (dblclick)="onDeletedSPRItemView(DeletedSPRItemContent, j)">
                                                                    <td>
                                                                        <button class="btn btn-link p-0 mr-3"
                                                                            (click)="onDeletedSPRItemView(DeletedSPRItemContent,j)"><img
                                                                                class="table-icon"
                                                                                src="../../../../../assets/images/icon-view.svg"></button>
                                                                    </td>
                                                                    <td>{{delitem.seqno}}</td>
                                                                    <td>{{delitem.articleno}}</td>
                                                                    <td>{{delitem.description}}</td>
                                                                    <td>{{delitem.sprquantity}}</td>
                                                                    <td>{{delitem.fullname}}</td>
                                                                    <td>{{delitem.rejectreason}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"
                                                    style="margin-bottom: 10px;" *ngIf="stdItem || sprItem">
                                                    <span class="dot orange"
                                                        title="Expired item(s) - This item(s) will be send to PE for revalidation."></span>
                                                    Expired item(s) - This item(s) will be send to PE for revalidation.
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                                                    <div class="form-group" *ngIf="isEditSection('offerInformation')">
                                                        <label>Attachments</label>
                                                        <div><button (click)="fileInput.click()">Select File</button>
                                                            <input type="file" id="importFile" style="display: none;"
                                                                (change)="OfferfileChangeListener($event)" #fileInput
                                                                multiple />
                                                        </div>
                                                    </div>
                                                    <div class="form-group" *ngIf="!isEditSection('offerInformation')">
                                                        <label>Attachments</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 mt-3" *ngIf="OfferFiles.length > 0">
                                                    <div class="row">
                                                        <div *ngFor="let file of OfferFiles;let f=index"
                                                            class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 outer-container-upload-control">
                                                            <div class="upload-control-filetype-container"><img
                                                                    class="table-icon-lg"
                                                                    src="../../../../../assets/images/{{setFileTypeIcon(file.type)}}">
                                                            </div>
                                                            <div class="upload-control-filename-container dot-views"><a
                                                                    href="javascript:void(0)" *ngIf="file.id"
                                                                    (click)="downloadFile(file.name,file.id,file.type)">
                                                                    {{file.name}}</a><span
                                                                    *ngIf="!file.id">{{file.name}}</span></div>
                                                            <div class="upload-control-delete-container"
                                                                *ngIf="isEditSection('offerInformation')">
                                                                <button class="btn btn-link p-0"
                                                                    (click)="OfferFileRemove(f)">
                                                                    <img class="table-icon"
                                                                        src="../../../../../assets/images/icon-delete1.svg"
                                                                        title="delete image"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </ng-template>
                                </ngb-panel>
                                <ngb-panel id="ngb-panel-2">
                                    <ng-template ngbPanelTitle>Customer's Contact Detail</ng-template>
                                    <ng-template ngbPanelContent>
                                        <form class="ng-invalid ng-touched ng-dirty" [formGroup]="AccountContactDetail">
                                            <div class="row">
                                                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-3"
                                                    *ngIf="isEditSection('offerInformation')">
                                                    <div class="gridSearchBox">
                                                        <input type="text" class="form-control"
                                                            (keyup.enter)='onContactSearch()'
                                                            formControlName="contactsearch" placeholder="Search"
                                                            class="gridSearchInput" maxlength="100">
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive"
                                                            id="table-accountdetail">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th>Select</th>
                                                                    <th>Name</th>
                                                                    <th>Department</th>
                                                                    <th>Designation</th>
                                                                    <th>Phone</th>
                                                                    <th>Email</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <ng-container
                                                                    *ngIf="searchedcontactdetail && searchedcontactdetail.length > 0">
                                                                    <tr
                                                                        *ngFor="let cd of searchedcontactdetail; let j = index">
                                                                        <td>
                                                                            <div class="radio">
                                                                                <input type="radio"
                                                                                    name="billingAddress"
                                                                                    value="{{cd.id}}"
                                                                                    (click)="onContactSelect($event)"
                                                                                    [attr.disabled]="!isEditSection('offerInformation') ? '' : null"
                                                                                    [checked]="selectedcontact > 0 ? cd.id == selectedcontact : j == 0">
                                                                            </div>
                                                                        </td>
                                                                        <td>{{cd.name}}</td>
                                                                        <td>{{cd.department}}</td>
                                                                        <td>{{cd.designation}}</td>
                                                                        <td>{{cd.mobile}}</td>
                                                                        <td>{{cd.email}}</td>
                                                                    </tr>
                                                                </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </ng-template>
                                </ngb-panel>
                                <ngb-panel id="ngb-panel-3">
                                    <ng-template ngbPanelTitle>Terms & Conditions</ng-template>
                                    <ng-template ngbPanelContent>
                                        <form class="ng-invalid ng-touched ng-dirty"
                                            [formGroup]="TermsandConditionForm">
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <div style="float: left;">
                                                            <label for="paymentterms" class="required">Payment
                                                                Terms</label>
                                                        </div>
                                                        <div style="float: right;">
                                                            <span *ngIf="isEditSection('termsandcondition')">
                                                                <i class="fas fa-exclamation"></i> <i>
                                                                    {{500 - PaymentTermsValue?.length}} characters
                                                                    left.</i></span>
                                                        </div>
                                                        <textarea rows=" 3" cols="50" class="form-control"
                                                            maxlength="500" formControlName="paymentterms"
                                                            [attr.disabled]="!isEditSection('termsandcondition')  ? '' : null"
                                                            [ngClass]="{ 'is-invalid': submitted && termsandConditionForm.paymentterms.errors }"
                                                            [(ngModel)]="PaymentTermsValue" maxlength="500"></textarea>

                                                        <div *ngIf="submitted && termsandConditionForm.paymentterms.errors"
                                                            class="invalid-feedback">
                                                            <div
                                                                *ngIf="termsandConditionForm.paymentterms.errors.required">
                                                                Payment Terms is required
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div style="float: left;">
                                                            <label for="deliveryleadtime">Delivery lead
                                                                time</label>
                                                        </div>
                                                        <div style="float: right;">
                                                            <span *ngIf="isEditSection('termsandcondition')">
                                                                <i class="fas fa-exclamation"></i> <i>
                                                                    {{500 - DeliveryLeadTimeValue?.length}} characters
                                                                    left.</i></span>
                                                        </div>
                                                        <textarea rows=" 3" cols="50" class="form-control"
                                                            maxlength="500" formControlName="deliveryleadtime"
                                                            [attr.disabled]="!isEditSection('termsandcondition')  ? '' : null"
                                                            [(ngModel)]="DeliveryLeadTimeValue"
                                                            maxlength="500"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-xl-6 col-lg-6 col-md-6 col-sm-12">
                                                    <p class="font-weight-bold">Special Terms</p>
                                                </div>
                                                <div class="col-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 text-right mb-2"
                                                    *ngIf="isEditSection('termsandcondition')">
                                                    <button type="button" class="btn btn-orange-s"
                                                        (click)="openAddSpecialText(AddSpecialText, undefined)">Add
                                                        Special Term</button>
                                                </div>
                                                <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                    <div class="overflow-auto">
                                                        <table class="table table-hover table-responsive"
                                                            id="table-specialtermscondition">
                                                            <thead class="thead-inverse">
                                                                <tr>
                                                                    <th *ngIf="isEditSection('termsandcondition')">
                                                                        Action
                                                                    </th>
                                                                    <th>Title</th>
                                                                    <th>Description</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <ng-container
                                                                    *ngIf="specialtextdata && specialtextdata.length > 0">
                                                                    <tr
                                                                        *ngFor="let std of filterDatatoDelete(specialtextdata); let j=index">
                                                                        <td *ngIf="isEditSection('termsandcondition')">
                                                                            <button class="btn btn-link p-0 mr-3"
                                                                                (click)="OpenSpecialTermsDeletePopup(j)"
                                                                                [attr.disabled]="!isEditSection('termsandcondition')  ? '' : null"><img
                                                                                    class="table-icon"
                                                                                    src="../../../../../assets/images/icon-delete.svg"></button>
                                                                            <button class="btn btn-link p-0 mr-3"
                                                                                (click)="openAddSpecialText(AddSpecialText, j)"
                                                                                [attr.disabled]="!isEditSection('termsandcondition') ? '' : null"><img
                                                                                    class="table-icon"
                                                                                    src="../../../../../assets/images/icon-edit.svg"></button>
                                                                        </td>
                                                                        <td>{{std.title}}</td>
                                                                        <td>{{std.description}}</td>
                                                                    </tr>
                                                                </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </ng-template>
                                </ngb-panel>
                            </div>
                            <ngb-panel id="ngb-panel-3-5" *ngIf="isShowSection('oc_bd')">
                                <ng-template ngbPanelTitle>OC Action - Attachments</ng-template>
                                <ng-template ngbPanelContent>

                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="ItemsForm">
                                        <div class="row">
                                            <div class="col-12 " *ngIf="OcActinFiles.length > 0">
                                                <div class="row">
                                                    <div *ngFor="let file of OcActinFiles;let f=index"
                                                        class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 outer-container-upload-control">
                                                        <div class="upload-control-filetype-container"><img
                                                                class="table-icon-lg"
                                                                src="../../../../../assets/images/{{setFileTypeIcon(file.type)}}">
                                                        </div>
                                                        <div class="upload-control-filename-container dot-views"><a
                                                                href="javascript:void(0)" *ngIf="file.id"
                                                                (click)="downloadFile(file.name,file.id,file.type)">
                                                                {{file.name}}</a><span
                                                                *ngIf="!file.id">{{file.name}}</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt-3" *ngIf="isEditSection('oc_bd')">
                                            <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <!-- <label>Attachments</label> -->
                                                    <div><button (click)="fileInput.click()">Select File</button>
                                                        <input type="file" id="importFile" style="display: none;"
                                                            (change)="OcActionListener($event)" #fileInput multiple />
                                                    </div>
                                                </div>
                                                <div *ngIf="!OcActinFiles" class="form-group">
                                                    <label>Attachments</label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">

                                            <div class="col-12">
                                                <div class="row">
                                                    <div *ngFor="let file of filesidlist;let f=index"
                                                        class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 outer-container-upload-control">
                                                        <div class="upload-control-filetype-container"><img
                                                                class="table-icon-lg"
                                                                src="../../../../../assets/images/{{setFileTypeIcon(file.type)}}">
                                                        </div>
                                                        <div class="upload-control-filename-container dot-views"><a
                                                                href="javascript:void(0)" *ngIf="file.id"
                                                                (click)="downloadFile(file.name,file.id,file.type)">
                                                                {{file.name}}</a><span
                                                                *ngIf="!file.id">{{file.name}}</span></div>
                                                        <div class="upload-control-delete-container"
                                                            *ngIf="isEditSection('oc_bd')">
                                                            <button class="btn btn-link p-0"
                                                                (click)="OCACtionFileRemove(f)">
                                                                <img class="table-icon"
                                                                    src="../../../../../assets/images/icon-delete1.svg"
                                                                    title="delete image"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </form>

                                    <div class="col-12 text-right" style="margin-top: 10px;"
                                        *ngIf="isEditSection('oc_bd')">
                                        <div class="form-group">
                                            <button class="btn btn-orange-outline ml-2 key key-m" #cancelbutton><i
                                                    class="icon-x" (click)="oncancelClick()"></i>Cancel</button>
                                            <button class="btn btn-orange-s" (click)="onSaveOcactionfiles()"
                                                appNoDblClick><i class="icon-floppy-o"></i>Save & Submit</button>
                                        </div>
                                    </div>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-4" *ngIf="isShowSection('approvedandrejectedby')">
                                <ng-template ngbPanelTitle>Approved/Rejected by</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty">
                                        <div class="col-12 text-right" *ngIf="isOfferOpen">
                                            <div class="form-group">
                                                <button class="btn btn-success ml-2 key key-m" style="min-width: 80px;"
                                                    (click)="onOfferApproveClick()"
                                                    #cancelbutton><i></i>Approve</button>
                                                &nbsp;
                                                <button class="btn btn-danger" style="min-width: 80px;"
                                                    (click)="onOfferRejectClick()"><i></i>Reject</button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                <div class="overflow-auto">
                                                    <table class="table table-hover table-responsive"
                                                        id="table-specialtermscondition">
                                                        <thead class="thead-inverse">
                                                            <tr>
                                                                <th>Sr No</th>
                                                                <th>Name</th>
                                                                <th>Role</th>
                                                                <th>Request Datetime</th>
                                                                <th>Status</th>
                                                                <th>Approve/Reject Date</th>
                                                                <th>Message</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container
                                                                *ngIf="offerapprovaldata && offerapprovaldata.length > 0">
                                                                <tr *ngFor="let ad of offerapprovaldata; let j=index">
                                                                    <td>{{ad.srno}}</td>
                                                                    <td>{{ad.username}}</td>
                                                                    <td>{{ad.role}}</td>
                                                                    <td>{{ad.senddate}}</td>
                                                                    <td>{{ad.showstatus}}</td>
                                                                    <td>{{ad.statusdate}}</td>
                                                                    <td>{{ad.rejectreason}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-5" *ngIf="isShowSection('managepo')">
                                <ng-template ngbPanelTitle>Manage PO & Approved Data Sheets</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="ManagePOForm">
                                        <div class="row">
                                            <div class="col-12 col-xl-3 col-lg-3 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="ponumber" class="required">PO Number</label>
                                                    <input type="text" class="form-control" formControlName="ponumber"
                                                        AllowAlphaNumericDashSlash="true" maxlength="34"
                                                        [ngClass]="{ 'is-invalid': submitted && managePOForm.ponumber.errors }"
                                                        [attr.disabled]="!isEditSection('managepo') ? '' : null" />
                                                    <div *ngIf="submitted && managePOForm.ponumber.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="managePOForm.ponumber.errors.required">
                                                            PO Number is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-3 col-lg-3 col-md-4 col-sm-12"
                                                *ngIf="isEditSection('managepo')">
                                                <div class="form-group">
                                                    <label class="required">PO Date</label>
                                                    <div class="input-group"
                                                        [ngClass]="{ 'is-invalid': submitted && managePOForm.podate.errors }">
                                                        <input class="form-control doc-date" formcontrolname="podate"
                                                            ngbDatepicker #podate="ngbDatepicker"
                                                            [value]="formatter.format(poDate)"
                                                            (dateSelect)="onPODateSelection($event)" readonly
                                                            [ngClass]="{ 'is-invalid': submitted && managePOForm.podate.errors }" />
                                                        <div class="input-group-append">
                                                            <button class="btn btn-outline-secondary calendar"
                                                                (click)="podate.toggle()" type="button"></button>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="submitted && managePOForm.podate.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="managePOForm.podate.errors.required">
                                                            PO Date is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-3 col-lg-3 col-md-4 col-sm-12"
                                                *ngIf="!isEditSection('managepo')">
                                                <label class="required">PO Date</label>
                                                <input class="form-control" type="text" formControlName="podate">
                                            </div>
                                            <div class="col-12 col-xl-1 col-lg-1 col-md-2 col-sm-12"
                                                *ngIf="isEditSection('managepo')">
                                                <div class="form-group">
                                                    <label class="required">Attachments</label>
                                                    <div><button (click)="fileInput.click()">Select File</button>
                                                        <input type="file" id="importFile" style="display: none;"
                                                            (change)="ManagePOfileChangeListener($event)" #fileInput />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-1 col-lg-1 col-md-2 col-sm-12"
                                                *ngIf="!isEditSection('managepo')">
                                                <div class="form-group">
                                                    <label class="required">Attachments</label>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12 mt-3"
                                                *ngIf="pofiles.length > 0">
                                                <div class="row">
                                                    <div *ngFor="let pofiledtl of pofiles;let f=index"
                                                        class="col-md-12 col-lg-6 outer-container-upload-control">
                                                        <div class="upload-control-filetype-container"><img
                                                                class="table-icon-lg"
                                                                src="../../../../../assets/images/{{setFileTypeIcon(pofiledtl.type)}}">
                                                        </div>
                                                        <div class="upload-control-filename-container dot-views">
                                                            <a href="javascript:void(0)" *ngIf="pofiledtl.id"
                                                                (click)="downloadFile(pofiledtl.name,pofiledtl.id,pofiledtl.type)">
                                                                {{pofiledtl.name}}</a><span
                                                                *ngIf="!pofiledtl.id">{{pofiledtl.name}}</span>
                                                        </div>
                                                        <div class="upload-control-delete-container"
                                                            *ngIf="isEditSection('managepo')">
                                                            <button class="btn btn-link p-0" (click)="removePOFile(f)">
                                                                <img class="table-icon"
                                                                    src="../../../../../assets/images/icon-delete1.svg"
                                                                    title="delete image"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 row" *ngIf="filterforSPRItems(offerItemStd).length > 0">
                                            <h5>Approved Data Sheets</h5>
                                        </div>
                                        <div class="row" *ngIf="filterforSPRItems(offerItemStd).length > 0">
                                            <div class="overflow-auto col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                <table class="table table-hover table-responsive"
                                                    id="table-opportunity">
                                                    <thead class="thead-inverse">
                                                        <tr>
                                                            <th width='10%'>Article No</th>
                                                            <th>Attachments</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr
                                                            *ngFor="let item of filterforSPRItems(offerItemStd); let j=index">
                                                            <td>
                                                                <label>{{item.articleNo}}</label>
                                                            </td>
                                                            <td>
                                                                <div class="row">
                                                                    <div
                                                                        class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                                        <div class="form-group"
                                                                            *ngIf="isEditSection('managepo')">
                                                                            <label>Attachments</label>
                                                                            <div><button
                                                                                    (click)="fileInput.click()">Select
                                                                                    File</button>
                                                                                <input type="file"
                                                                                    id="attacheddatasheet"
                                                                                    style="display: none;" id="{{j}}"
                                                                                    (change)="attachDataSheetFileChangeListener($event)"
                                                                                    #fileInput multiple />
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group"
                                                                            *ngIf="!isEditSection('managepo')">
                                                                            <label>Attachments</label>
                                                                        </div>
                                                                    </div>
                                                                    <div *ngIf="item.spritemdatasheets && item.spritemdatasheets.length > 0"
                                                                        class="col-12 col-xl-10 col-lg-10 col-md-10 col-sm-12 mt-2">
                                                                        <div class="col-12">
                                                                            <div class="row">
                                                                                <div *ngFor="let file of item.spritemdatasheets;let f=index"
                                                                                    class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 outer-container-upload-control">
                                                                                    <div
                                                                                        class="upload-control-filetype-container">
                                                                                        <img class="table-icon-lg"
                                                                                            src="../../../../../assets/images/{{setFileTypeIcon(file.type)}}">
                                                                                    </div>
                                                                                    <div
                                                                                        class="upload-control-filename-container dot-views">
                                                                                        <a href="javascript:void(0)"
                                                                                            *ngIf="file.id"
                                                                                            (click)="downloadFile(file.name,file.id,file.type)">
                                                                                            {{file.name}}</a><span
                                                                                            *ngIf="!file.id">{{file.name}}</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="upload-control-delete-container">
                                                                                        <button class="btn btn-link p-0"
                                                                                            (click)="removeattachedDataSheetFile(j, f)">
                                                                                            <img class="table-icon"
                                                                                                src="../../../../../assets/images/icon-delete1.svg"
                                                                                                title="delete image"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"
                                            *ngIf="filterforSPRItems(offerItemStd).length > 0">
                                            <div class="row">
                                                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                                                    <div class="form-group" *ngIf="isEditSection('managepo')">
                                                        <label>Attachments</label>
                                                        <div><button (click)="fileInput.click()">Select File</button>
                                                            <input type="file" id="importFile" style="display: none;"
                                                                (change)="DataSheetsFileChangeListener($event)"
                                                                #fileInput multiple />
                                                        </div>
                                                    </div>
                                                    <div class="form-group" *ngIf="!isEditSection('managepo')">
                                                        <label>Attachments</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 mt-3" *ngIf="DataSheets.length > 0">
                                                    <div class="row">
                                                        <div *ngFor="let file of DataSheets;let f=index"
                                                            class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 outer-container-upload-control">
                                                            <div class="upload-control-filetype-container"><img
                                                                    class="table-icon-lg"
                                                                    src="../../../../../assets/images/{{setFileTypeIcon(file.type)}}">
                                                            </div>
                                                            <div class="upload-control-filename-container dot-views"><a
                                                                    href="javascript:void(0)" *ngIf="file.id"
                                                                    (click)="downloadFile(file.name,file.id,file.type)">
                                                                    {{file.name}}</a><span
                                                                    *ngIf="!file.id">{{file.name}}</span></div>
                                                            <div class="upload-control-delete-container">
                                                                <button class="btn btn-link p-0"
                                                                    (click)="removeDataSheetsFile(f)">
                                                                    <img class="table-icon"
                                                                        src="../../../../../assets/images/icon-delete1.svg"
                                                                        title="delete image"></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 text-right" *ngIf="isEditSection('managepo')">
                                            <div class="form-group">
                                                <button class="btn btn-orange-outline ml-2 key key-m" #cancelbutton><i
                                                        class="icon-x"></i>Cancel</button>
                                                <button class="btn btn-orange-s" (click)="onManagePOSaveClick(0)"
                                                    appNoDblClick><i class=" icon-floppy-o"></i>Save</button>
                                                <button class="btn btn-orange-s ml-2" (click)="onManagePOSaveClick(1)"
                                                    appNoDblClick><i class="icon-floppy-o"></i>Save &
                                                    Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-6" *ngIf="isShowSection('cpovalidator')">
                                <ng-template ngbPanelTitle>CPO Validation</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="CPOValidatorForm">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="form-group">
                                                    <div style="float: left;">
                                                        <label for="cpocomments" class="required">Comment</label>
                                                    </div>
                                                    <div style="float: right;">
                                                        <span *ngIf="isEditSection('cpovalidator')">
                                                            <i class="fas fa-exclamation"></i> <i>
                                                                {{500 - CPOComment?.length}} characters
                                                                left.</i></span>
                                                    </div>
                                                    <textarea rows=" 3" cols="50" class="form-control"
                                                        formControlName="cpocomments"
                                                        [attr.disabled]="!isEditSection('cpovalidator')  ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && cpoValidatorForm.cpocomments.errors }"
                                                        [(ngModel)]="CPOComment" maxlength="500"></textarea>
                                                    <div *ngIf="submitted && cpoValidatorForm.cpocomments.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="cpoValidatorForm.cpocomments.errors.required">
                                                            CPO Comment is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 text-right" *ngIf="isEditSection('cpovalidator')">
                                            <div class="form-group">
                                                <button class="btn btn-orange-outline ml-2 key key-m" #cancelbutton><i
                                                        class="icon-x" (click)="oncancelClick()"></i>Cancel</button>
                                                <button class="btn btn-orange-s ml-2" (click)="onCPOSubmitClick()"
                                                    appNoDblClick><i class="icon-floppy-o"></i>Save &
                                                    Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-7" *ngIf="isShowSection('FMapproveandreject') && isFMApprovalReq">
                                <ng-template ngbPanelTitle>FM Approve/Reject</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty">
                                        <div class="col-12 text-right" *ngIf="isOfferOpenforFM">
                                            <div class="form-group">
                                                <button class="btn btn-success ml-2 key key-m" style="min-width: 80px;"
                                                    (click)="onOfferApproveClick()"
                                                    #cancelbutton><i></i>Approve</button>
                                                &nbsp;
                                                <button class="btn btn-danger" style="min-width: 80px;"
                                                    (click)="onOfferRejectClick()"><i></i>Reject</button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                <div class="overflow-auto">
                                                    <table class="table table-hover table-responsive"
                                                        id="table-specialtermscondition">
                                                        <thead class="thead-inverse">
                                                            <tr>
                                                                <th>Name</th>
                                                                <th>Request Datetime</th>
                                                                <th>Status</th>
                                                                <th>Approve/Reject Date</th>
                                                                <th>Message</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container
                                                                *ngIf="FMApprovalData && FMApprovalData.length > 0">
                                                                <tr *ngFor="let ad of FMApprovalData; let j=index">
                                                                    <td>{{ad.username}}</td>
                                                                    <td>{{ad.requesteddate}}</td>
                                                                    <td>{{ad.showstatus}}</td>
                                                                    <td>{{ad.statusdate}}</td>
                                                                    <td>{{ad.comment}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-8" *ngIf="isShowSection('initiateso')">
                                <ng-template ngbPanelTitle>Initiate SO</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="InitiateSOForm">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="form-group">
                                                    <div style="float: left;">
                                                        <label for="initiatecomments" class="required">Initiate
                                                            Comments</label>
                                                    </div>
                                                    <div style="float: right;">
                                                        <span *ngIf="isEditSection('initiateso')">
                                                            <i class="fas fa-exclamation"></i> <i>
                                                                {{500 - InitiateSOComment?.length}} characters
                                                                left.</i></span>
                                                    </div>
                                                    <textarea rows=" 3" cols="50" class="form-control"
                                                        formControlName="initiatecomments"
                                                        [attr.disabled]="!isEditSection('initiateso')  ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && initiateSOForm.initiatecomments.errors }"
                                                        [(ngModel)]="InitiateSOComment" maxlength="500"></textarea>
                                                    <div *ngIf="submitted && initiateSOForm.initiatecomments.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="initiateSOForm.initiatecomments.errors.required">
                                                            Initiate Comments is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 text-right" *ngIf="isEditSection('initiateso')">
                                            <div class="form-group">
                                                <button class="btn btn-orange-outline ml-2 key key-m" #cancelbutton
                                                    (click)="oncancelClick()"><i class="icon-x"></i>Cancel</button>
                                                <button class="btn btn-orange-s ml-2"
                                                    (click)="onInitiateSOSaveSubmitClick(true)" appNoDblClick><i
                                                        class="icon-floppy-o"></i>Save &
                                                    Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-9" *ngIf="isShowSection('additionalfields')">
                                <ng-template ngbPanelTitle>Additional Fields</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="AdditionalFieldsForm">
                                        <div class="row">
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="assignto" class="required">Assign To</label>
                                                    <button class="btn btn-link"
                                                        *ngIf="userrolecode == 'OM_Admin' || userrolecode == 'Admin'"
                                                        (click)="openAssigneeModal()">Add/Edit
                                                    </button>
                                                    <i
                                                        *ngIf="!offerdata.assignto && userrolecode == 'OM_Admin' || userrolecode == 'OMT' || userrolecode == 'Admin' && offerdata.status == 70 && offerdata.IsActive == 1">
                                                        | </i>
                                                    <button class="btn btn-link"
                                                        *ngIf="!offerdata.assignto && userrolecode == 'OM_Admin' || userrolecode == 'OMT' || userrolecode == 'Admin' && offerdata.status == 70 && offerdata.IsActive == 1"
                                                        (click)="assigntomeClick()">Assign to Me
                                                    </button>
                                                    <input class="form-control" type="text" formControlName="assignto"
                                                        [attr.disabled]="true" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldtoparty" class="required">Sold to Party</label>
                                                    <ng-select [items]="soldtopartySearchList" class="form-control"
                                                        formControlName="soldtoparty" bindLabel="fullname"
                                                        bindValue="kunnr" (change)="onSoldtoPartySearchChange($event)"
                                                        [ngClass]="{ 'is-invalid': submitted && additionalFieldsForm.soldtoparty.errors }">
                                                    </ng-select>
                                                    <div *ngIf="submitted && additionalFieldsForm.soldtoparty.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="additionalFieldsForm.soldtoparty.errors.required">
                                                            Sold to Party is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldtopartyname">Sold to Party Name</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="soldtopartyname"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldtopartyname">GSTIN</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="soldtopartygstin" [attr.disabled]="true" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldstreet1">Sold Street1</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="soldstreet1"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldstreet2">Sold Street2</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="soldstreet2"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="solddistrict">Sold District</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="solddistrict"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldcity">Sold City</label>
                                                    <input class="form-control" type="text" formControlName="soldcity"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldpostalcode">Sold Postal Code</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="soldpostalcode"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="soldregion">Sold Region</label>
                                                    <input class="form-control" type="text" formControlName="soldregion"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shiptoparty" class="required">Ship to Party</label>
                                                    <ng-select [items]="shiptopartySearchList" class="form-control"
                                                        formControlName="shiptoparty" bindLabel="fullname"
                                                        bindValue="partner" (change)="onShiptoPartySearchChange($event)"
                                                        [ngClass]="{ 'is-invalid': submitted && additionalFieldsForm.shiptoparty.errors }">
                                                    </ng-select>
                                                    <div *ngIf="submitted && additionalFieldsForm.shiptoparty.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="additionalFieldsForm.shiptoparty.errors.required">
                                                            Ship to Party is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shiptopartyname">Ship to Party Name</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="shiptopartyname"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shipstreet1">Ship Street1</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="shipstreet1"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shipstreet2">Ship Street2</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="shipstreet2"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shipdistrict">Ship District</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="shipdistrict"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shipcity">Ship City</label>
                                                    <input class="form-control" type="text" formControlName="shipcity"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shippostalcode">Ship Postal Code</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="shippostalcode"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="shipregion">Ship Region</label>
                                                    <input class="form-control" type="text" formControlName="shipregion"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12">
                                                <div class="form-group">
                                                    <label for="nacecode">Nace Code</label>
                                                    <ng-select [items]="NacecodeList" class="form-control"
                                                        formControlName="nacecode" bindLabel="nacecodefull"
                                                        bindValue="code" [attr.disabled]="true"
                                                        (change)="onNacecodeChange($event)">
                                                    </ng-select>

                                                    <!-- [ngClass]="{ 'is-invalid': submitted && additionalFieldsForm.nacecode.errors }"
                                                    <div *ngIf="submitted && additionalFieldsForm.nacecode.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="additionalFieldsForm.nacecode.errors.required">
                                                            Nace Code is required
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="nacelevel">Level</label>
                                                    <input class="form-control" type="text" formControlName="nacelevel"
                                                        [attr.disabled]="true">
                                                </div>
                                            </div>
                                            <!-- <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="nacemodel">Model</label>
                                                    <input class="form-control" type="text" formControlName="nacemodel"
                                                        [attr.disabled]="true">
                                                </div>
                                            </div> -->
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="businessmodel">Business Model</label>
                                                    <ng-select [items]="BusinessModelList" class="form-control"
                                                        formControlName="businessmodel" bindLabel="description"
                                                        bindValue="code" [attr.disabled]="true"
                                                        (change)="onBusinessModelChange($event)">
                                                    </ng-select>
                                                    <!-- [ngClass]="{ 'is-invalid': submitted && additionalFieldsForm.businessmodel.errors }"
                                                    <div *ngIf="submitted && additionalFieldsForm.businessmodel.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="additionalFieldsForm.businessmodel.errors.required">
                                                            Business Model is required
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="isEditSection('additionalfields')">
                                                <div class="form-group">
                                                    <label class="required">Req. Delivery Date</label>
                                                    <div class="input-group">
                                                        <input class="form-control doc-date"
                                                            formcontrolname="customerrequireddeliverydate" ngbDatepicker
                                                            #customerrequireddeliverydate="ngbDatepicker"
                                                            [value]="formatter.format(customerRequiredDeliveryDate)"
                                                            (dateSelect)="onCustomerRequiredDeliveryDateSelection($event)"
                                                            readonly [minDate]="todayMinDate" />
                                                        <div class="input-group-append">
                                                            <button class="btn btn-outline-secondary calendar"
                                                                (click)="customerrequireddeliverydate.toggle()"
                                                                type="button"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="!isEditSection('additionalfields')">
                                                <label for="customerrequireddeliverydate" class="required">
                                                    Req. Delivery Date
                                                </label>
                                                <input class="form-control" type="text"
                                                    formControlName="customerrequireddeliverydate">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="ordertype">Order Type</label>
                                                    <ng-select [items]="orderTypeList" class="form-control"
                                                        formControlName="ordertype" bindLabel="description"
                                                        bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="salesorg">Sales org</label>
                                                    <input class="form-control" type="text" OnlyNumber=true
                                                        formControlName="salesorg"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="distchannel">Dist Channel</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="distchannel"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="division">Division</label>
                                                    <input class="form-control" type="text" OnlyNumber=true
                                                        formControlName="division" [attr.disabled]="true" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="deliveryblock">Delivery Block</label>
                                                    <ng-select [items]="deliveryBlockList" class="form-control"
                                                        formControlName="deliveryblock" bindLabel="description"
                                                        bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12 mt-4    ">
                                                <div class="form-group">
                                                    <input type="checkbox" style="margin-right: 5px; margin-top: 3px;"
                                                        formControlName="completedlv"
                                                        (change)="toggleCompleteDlv($event)"
                                                        [checked]="completedlvChecked"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null">
                                                    <label for="completedlv">Complete Dlv</label>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="isEditSection('additionalfields')">
                                                <div class="form-group">
                                                    <label>Pricing Date</label>
                                                    <div class="input-group">
                                                        <input class="form-control doc-date"
                                                            formcontrolname="pricingdate" ngbDatepicker
                                                            #pricingdate="ngbDatepicker"
                                                            [value]="formatter.format(pricingDate)"
                                                            (dateSelect)="onPricingDateSelection($event)" readonly
                                                            [minDate]="todayMinDate" />
                                                        <div class="input-group-append">
                                                            <button class="btn btn-outline-secondary calendar"
                                                                (click)="pricingdate.toggle()" type="button"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="!isEditSection('additionalfields')">
                                                <label for="pricingdate">Pricing Date</label>
                                                <input class="form-control" type="text" formControlName="pricingdate">
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="specialprocessingid">Special Processing ID</label>
                                                    <ng-select [items]="specialprocessingidList" class="form-control"
                                                        formControlName="specialprocessingid" bindLabel="description"
                                                        bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="isEditSection('additionalfields')">
                                                <div class="form-group">
                                                    <label>Document Date</label>
                                                    <div class="input-group">
                                                        <input class="form-control doc-date" formcontrolname="firstdate"
                                                            ngbDatepicker #firstdate="ngbDatepicker"
                                                            [value]="formatter.format(firstDate)"
                                                            (dateSelect)="onFirstDateSelection($event)" readonly
                                                            [minDate]="todayMinDate" />
                                                        <div class="input-group-append">
                                                            <button class="btn btn-outline-secondary calendar"
                                                                (click)="firstdate.toggle()" type="button"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12"
                                                *ngIf="!isEditSection('additionalfields')">
                                                <label for="firstdate">Document Date</label>
                                                <input class="form-control" type="text" formControlName="firstdate">
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="requirementtype">Requirement Type</label>
                                                    <ng-select [items]="requirementtypeList" class="form-control"
                                                        formControlName="requirementtype" bindLabel="description"
                                                        bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="meansoftransport">Means of Transport</label>
                                                    <ng-select [items]="meansoftransportList" class="form-control"
                                                        formControlName="meansoftransport" bindLabel="description"
                                                        bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="alternatetaxclassification1">Alternate Tax
                                                        classification 1</label>
                                                    <ng-select [items]="alternatetaxclassification1List"
                                                        class="form-control"
                                                        formControlName="alternatetaxclassification1"
                                                        bindLabel="description" bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="alternatetaxclassification3">Alternate Tax
                                                        classification 3</label>
                                                    <ng-select [items]="alternatetaxclassification3List"
                                                        class="form-control"
                                                        formControlName="alternatetaxclassification3"
                                                        bindLabel="description" bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="alternatetaxclassification4">Alternate Tax
                                                        classification 4</label>
                                                    <ng-select [items]="alternatetaxclassification4List"
                                                        class="form-control"
                                                        formControlName="alternatetaxclassification4"
                                                        bindLabel="description" bindValue="code">
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="freetextbox">Free text box </label>
                                                    <input class="form-control" type="text"
                                                        formControlName="freetextbox"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="freightzfro">Freight[ZFRO]</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="freightzfro" numericwithdecimal decimals="4"
                                                        beforedecimals="18"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="freightzfrk">Freight[ZFRK]</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="freightzfrk" numericwithdecimal decimals="4"
                                                        beforedecimals="18"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="cuttingcharges">Cutting Charges [ZCUC]</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="cuttingcharges" numericwithdecimal decimals="4"
                                                        beforedecimals="18"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="inspectioncharges">Inspection charges[ZISP]</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="inspectioncharges" numericwithdecimal
                                                        decimals="4" beforedecimals="18"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="packingcharges">Packing Charges</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="packingcharges" numericwithdecimal decimals="4"
                                                        beforedecimals="18"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="modeoftransportforforeigntrade">Mode of Transport for
                                                        Foreign Trade</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="modeoftransportforforeigntrade"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="portoflanding">Port of landing</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="portoflanding"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="portofdischarge">Port of discharge</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="portofdischarge"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="citydescription">City Description</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="citydescription"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="countryname">Country Name</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="countryname"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="countrykey">Country Key</label>
                                                    <input class="form-control" type="text" formControlName="countrykey"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="insuranceby">Insurance By</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="insuranceby"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="exportscheme">Export Scheme</label>
                                                    <input class="form-control" type="text"
                                                        formControlName="exportscheme"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                                                <div class="form-group">
                                                    <label for="adcode">AD Code</label>
                                                    <input class="form-control" type="text" formControlName="adcode"
                                                        [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12"
                                                *ngIf="isEditSection('additionalfields')">
                                                <div class="form-group">
                                                    <label>PO Date</label>
                                                    <div class="input-group">
                                                        <input class="form-control doc-date" formcontrolname="afpodate"
                                                            ngbDatepicker #afpodate="ngbDatepicker"
                                                            [value]="formatter.format(afpoDate)"
                                                            (dateSelect)="onAdditionalFieldPODateSelection($event)"
                                                            readonly />
                                                        <div class="input-group-append">
                                                            <button class="btn btn-outline-secondary calendar"
                                                                (click)="afpodate.toggle()" type="button"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12"
                                                *ngIf="!isEditSection('additionalfields')">
                                                <label>PO Date</label>
                                                <input class="form-control" type="text" formControlName="afpodate">
                                            </div>
                                        </div>
                                        <div class="overflow-auto">
                                            <table class="table table-hover table-responsive table-sorting">
                                                <thead class="thead-inverse">
                                                    <tr>
                                                        <th>Action</th>
                                                        <th>Item No</th>
                                                        <th>Article No</th>
                                                        <th style="text-align: right;">Unit Price </th>
                                                        <th style="text-align: right;">Qty</th>
                                                        <th style="text-align: right;">Overdelv. Tolerance</th>
                                                        <th style="text-align: right;">Underdelv. Tolerance</th>
                                                        <th>Req. Delivery Date</th>
                                                        <th>Packaging Type</th>
                                                        <th>Means of Transport</th>
                                                        <th style="text-align: right;">Freight[ZFRO]</th>
                                                        <th style="text-align: right;">Freight[ZFRK]</th>
                                                        <th style="text-align: right;">Cutting Charges[ZCUC]</th>
                                                        <th style="text-align: right;">Inspection Charges[ZISP]</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of itemAdditionalFieldsList; let j=index;">
                                                        <td>
                                                            <button class="btn btn-link p-0 mr-3"
                                                                (click)="openItemAdditionalFieldsModal(j)"><img
                                                                    class="table-icon"
                                                                    *ngIf="isEditSection('additionalfields')"
                                                                    src="../../../../../assets/images/icon-edit.svg"></button>
                                                            <button class="btn btn-link p-0 mr-3"
                                                                (click)="openItemAdditionalFieldsModal(j)"><img
                                                                    class="table-icon"
                                                                    *ngIf="!isEditSection('additionalfields')"
                                                                    src="../../../../../assets/images/icon-view.svg"></button>
                                                        </td>
                                                        <td>{{item.itemno}}</td>
                                                        <td>{{item.articleno}}</td>
                                                        <td align="right">{{item.unitprice}}</td>
                                                        <td align="right">{{item.quantity}}</td>
                                                        <td align="right">{{item.overdelvtolerance}}</td>
                                                        <td align="right">{{item.underdelvtolerance}}</td>
                                                        <td>{{item.reqdeliverydate | date:dateformate}}</td>
                                                        <td>{{item.packingtype}}</td>
                                                        <td>{{item.meansoftransport}}</td>
                                                        <td align="right">{{item.freightzfro}}</td>
                                                        <td align="right">{{item.freightzfrk}}</td>
                                                        <td align="right">{{item.cuttingcharges}}</td>
                                                        <td align="right">{{item.inspectioncharges}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                        <div class="col-12 text-right" *ngIf="isEditSection('additionalfields')">
                                            <div class="form-group">
                                                <button class="btn btn-orange-outline ml-2 key key-m" #cancelbutton><i
                                                        class="icon-x"></i>Cancel</button>
                                                <button class="btn btn-orange-s"
                                                    (click)="onAdditionalFieldsSaveDraftClick(false)" appNoDblClick><i
                                                        class="icon-floppy-o"></i>Save
                                                    as draft</button>
                                                <button class="btn btn-orange-s ml-2" 
                                                    (click)="onAdditionalFieldsSaveSubmitClick(true)" appNoDblClick><i
                                                        class="icon-floppy-o"></i>Save & Submit</button>
                                                
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-11" *ngIf="isShowSection('customerapproval')">
                                <ng-template ngbPanelTitle>Customer Approval & Comments</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty">
                                        <div class="col-12 text-right" *ngIf="isEditSection('customerapproval')">
                                            <div class="form-group">
                                                <button class="btn btn-success ml-2 key key-m" style="min-width: 80px;"
                                                    (click)="onOfferCustomerApproveClick()"
                                                    #cancelbutton><i></i>Approve</button>
                                                &nbsp;
                                                <button class="btn btn-danger" style="min-width: 80px;"
                                                    (click)="onOfferCustomerRejectClick()"><i></i>Amendment</button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                                <div class="overflow-auto">
                                                    <table class="table table-hover table-responsive"
                                                        id="table-specialtermscondition">
                                                        <thead class="thead-inverse">
                                                            <tr>
                                                                <th width="80px">Sr No</th>
                                                                <th width="250px">Name</th>
                                                                <th>Comments</th>
                                                                <th width="150px">Status</th>
                                                                <th width="200px">Datetime</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container
                                                                *ngIf="customerapprovaldata && customerapprovaldata.length > 0">
                                                                <tr
                                                                    *ngFor="let ca of customerapprovaldata; let j=index">
                                                                    <td>{{ j + 1 }}</td>
                                                                    <td>{{ca.name}} </td>
                                                                    <td>{{ca.message}}</td>
                                                                    <td>{{ca.status}}</td>
                                                                    <td>{{ca.created_date}}</td>

                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                            <ngb-panel id="ngb-panel-10" *ngIf="isShowSection('somanually') ">
                                <ng-template ngbPanelTitle>SO No</ng-template>
                                <ng-template ngbPanelContent>
                                    <form class="ng-invalid ng-touched ng-dirty" [formGroup]="SOnoForm">
                                        <div class="row">
                                            <div class="col-12 col-xl-2 col-lg-2 col-md-3 col-sm-12">
                                                <div class="form-group">
                                                    <label for="sono" class="required">SO no</label>
                                                    <input class="form-control" type="text" OnlyNumber=true
                                                        formControlName="sono"
                                                        [ngClass]="{ 'is-invalid': submitted && sonoForm.sono.errors }"
                                                        [attr.disabled]="!isEditSection('somanually') ? '' : null" />
                                                    <div *ngIf="submitted && sonoForm.sono.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="sonoForm.sono.errors.required">
                                                            SO no is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 text-right" *ngIf="isEditSection('somanually')">
                                            <div class="form-group">
                                                <button class="btn btn-orange-outline ml-2 key key-m"
                                                    (click)="oncancelClick()" #cancelbutton><i
                                                        class="icon-x"></i>Cancel</button>
                                                <button class="btn btn-orange-s ml-2" (click)="onSOnoSaveClick()"
                                                    appNoDblClick><i class="icon-floppy-o"></i>Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </ng-template>
                            </ngb-panel>
                        </ngb-accordion>
                        <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 mt-2"
                            *ngIf="isEditSection('offerInformation') && filterSPRData(offerItemSPR).length == 0 && filterDatatoDelete(offerItemStd).length > 0">
                            <form class="ng-invalid ng-touched ng-dirty" [formGroup]="OtherForm">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <div style="float: left;">
                                                <label for="asmapprovecomment">Approval
                                                    Comments</label>
                                            </div>
                                            <div style="float: right;">
                                                <span>
                                                    <i class="fas fa-exclamation"></i> <i>
                                                        {{500 - ASMapproveComment?.length}} characters
                                                        left.</i></span>
                                            </div>
                                            <textarea rows=" 3" cols="50" class="form-control"
                                                formControlName="asmapprovecomment"
                                                [ngClass]="{ 'is-invalid': submitted && otherForm.asmapprovecomment.errors }"
                                                [(ngModel)]="ASMapproveComment" maxlength="500"></textarea>
                                            <div *ngIf="submitted && otherForm.asmapprovecomment.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="otherForm.asmapprovecomment.errors.required">
                                                    Approval Comments is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col-12 text-right" *ngIf="isEditSection('offerInformation')"
                            style="margin-top: 10px;">
                            <div class="form-group" *ngIf="!isHarnessing">
                                <button class="btn btn-orange-outline ml-2 key key-m" (click)="oncancelClick()"
                                    #cancelbutton><i class="icon-x"></i>Cancel</button>
                                <button class="btn btn-orange-s" (click)="onSaveasDraftClick(false)" appNoDblClick><i
                                        class="icon-floppy-o"></i>Save</button>
                                <button class="btn btn-orange-s ml-2" (click)="onSubmitforRevalidationClick();"
                                    appNoDblClick *ngIf="ShowSubmitforRevalidationButton"><i
                                        class="icon-floppy-o"></i>Submit for Re-Validation</button>
                                <button class="btn btn-orange-s ml-2" (click)="onSaveandSubmitClick(true);"
                                    appNoDblClick *ngIf="ShowSubmitforApprovalButton"><i
                                        class="icon-floppy-o"></i>Submit for Approval</button>
                                <button class="btn btn-orange-s ml-2" (click)="onSendtoPEClick();" appNoDblClick
                                    *ngIf="ShowSendtoPEButton"><i class="icon-floppy-o"></i>Send for PE Action</button>
                            </div>
                            <div class="form-group" *ngIf="isHarnessing">
                                <button class="btn btn-orange-outline ml-2 key key-m" (click)="oncancelClick()"
                                    #cancelbutton><i class="icon-x"></i>Cancel</button>
                                <button *ngIf="offerdata.Status === undefined || (offerdata && offerdata.Status <= 11)"
                                    class="btn btn-orange-s" (click)="onSaveasDraftClick(false)" appNoDblClick><i
                                        class="icon-floppy-o"></i>Save</button>
                                <button *ngIf="offerdata.Status === undefined || (offerdata && offerdata.Status <= 10)"
                                    class="btn btn-orange-s ml-2" (click)="onSaveandSubmitToBD(true);" appNoDblClick><i
                                        class="icon-floppy-o"></i>Submit to BD</button>
                                <button *ngIf="offerdata && offerdata.Status === 11" class="btn btn-orange-s ml-2"
                                    (click)="onSaveandSubmitToBD(true);" appNoDblClick><i
                                        class="icon-floppy-o"></i>Submit for PE Action</button>
                            </div>
                        </div>

                        <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 mt-2"
                            *ngIf="!isEditSection('additionalfields') && sonumber != ''">
                            <div class="form-group alert alert-success">
                                <label for="iscreateso">Sales order hase been created. Sales order number is:
                                    {{sonumber}}.</label>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-12" *ngIf="isSOError">
                <div class="form-group alert alert-danger" style="white-space: pre-line">
                    <label>{{soerror}}</label>
                    <div class="col-12 text-right" *ngIf="isEditSection('somanually')">
                        <button class="btn btn-orange-s ml-2" (click)="onReGenerateSOClick()" appNoDblClick><i
                                class="icon-floppy-o"></i>Re-Generate SO</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- models -->
<ng-template #content1 let-modal>
    <div class="modal-header" *ngIf="isEditSection('offerInformation')">
        <h4 class="modal-title" id="modal-basic-title">Add/Edit Item</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-header" *ngIf="!isEditSection('offerInformation')">
        <h4 class="modal-title" id="modal-basic-title">View Item</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="StdItemForm" enctype="multipart/form-data" method="POST">
            <div class="row" *ngIf="isEditSection('offerInformation') && !itemforEdit">
                <div class="col-md-12">
                    <div class="w-50 float-left mr-3" style="margin: -15px 0px -15px 0px;">
                        <app-itemsearch class="col-12 col-xl-8 col-lg-8 col-md-6 col-sm-12"
                            (callBack)="onItemSearch($event)">
                        </app-itemsearch>
                    </div>
                    <div class="w-30">
                        <button *ngIf="articleNo" class="btn btn-link p-0"
                            (click)="onSelectProductClearClick()">Clear</button>
                        <button *ngIf="!articleNo" class="btn btn-link p-0" (click)="onSearchProductClick()">Search
                            Product</button>
                    </div>
                </div>
                <!-- <div>
                    <button class="btn btn-link p-0" (click)="onsendEmailClick()">Send mail</button>
                </div> -->
            </div>
            <div *ngIf="!isItemReady && errorMessage.length > 0" class="col-12 alert alert-danger">
                {{errorMessage}}
            </div>
            <div class="row" *ngIf="!isEditSection('offerInformation') || itemforEdit">
                <div class="col-md-12">
                    <div class="w-50 float-left mr-3">
                        <label for="stditemCode">Article No</label>
                        <input type="text" class="form-control" formControlName="stditemCode" [attr.disabled]=true>
                    </div>
                    <div *ngIf="isEditSection('offerInformation')">
                        <button class="btn btn-link p-0" (click)="onSelectProductClearClick()">Clear</button>
                    </div>
                </div>
                <div *ngIf="!isItemReady && errorMessage.length > 0" class="col-12 redtext">
                    {{errorMessage}}
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-xl-10 col-lg-10 col-md-10 col-sm-12">
                    <div class="row form-group">
                        <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12">
                            <label for="stdItemName">Description</label>
                            <input type="text" class="form-control" formControlName="stdItemName" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12 p-0" *ngIf="showpclength">
                            <label for="stdItemUOM">UOM</label>
                            <div class="row">
                                <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12 pr-0">
                                    <input type="text" class="form-control" formControlName="stdItemUOM"
                                        [attr.disabled]=true>
                                </div>
                                <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12 pl-2">
                                    <input type="text" class="form-control" formControlName="stdItemPCLength"
                                        [attr.disabled]=true>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12" *ngIf="!showpclength">
                            <label for="stdItemUOM">UOM</label>
                            <input type="text" class="form-control" formControlName="stdItemUOM" [attr.disabled]=true
                                #stdItemUOMInput>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="ItemMDQ">MDQ</label>
                            <input type="text" class="form-control" formControlName="ItemMDQ" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="ItemMOQ">MOQ</label>
                            <input type="text" class="form-control" formControlName="ItemMOQ" [attr.disabled]=true>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"></div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="stdItemType">Type</label>
                            <input type="text" class="form-control" formControlName="stdItemType" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12"
                            *ngIf="isEditSection('offerInformation')">
                            <label for="itemreqdeliverydate" class="required">Req. Dlv. Date</label>
                            <div class="input-group"
                                [ngClass]="{ 'is-invalid': submitted && stdItemForm.itemreqdeliverydate.errors }">
                                <input class="form-control doc-date" formcontrolname="itemreqdeliverydate" ngbDatepicker
                                    #itemreqdeliverydate="ngbDatepicker" [value]="formatter.format(itemreqdeliveryDate)"
                                    (dateSelect)="onitemReqDeliveryDateSelection($event)" readonly
                                    [minDate]="todayMinDate"
                                    [ngClass]="{ 'is-invalid': submitted && stdItemForm.itemreqdeliverydate.errors }" />
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary calendar"
                                        (click)="itemreqdeliverydate.toggle()" type="button"></button>
                                </div>
                            </div>
                            <div *ngIf="submitted && stdItemForm.itemreqdeliverydate.errors" class="invalid-feedback">
                                <div *ngIf="stdItemForm.itemreqdeliverydate.errors.required">
                                    Req. Dlv. Date is required
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12"
                            *ngIf="!isEditSection('offerInformation')">
                            <label for="itemreqdeliverydate">Req. Dlv. Date</label>
                            <input class="form-control" type="text" formControlName="itemreqdeliverydate">
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="enquiredquantity" class="required">Enquired Quantity</label>
                            <input type="text" class="form-control" formControlName="enquiredquantity"
                                numericwithdecimal decimals="2" beforedecimals="18"
                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null"
                                [ngClass]="{ 'is-invalid': submitted && stdItemForm.enquiredquantity.errors }">
                            <div *ngIf="submitted && stdItemForm.enquiredquantity.errors" class="invalid-feedback">
                                <div *ngIf="stdItemForm.enquiredquantity.errors.required">
                                    Required!
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12 mt-4">
                            <button type="button" class="btn btn-orange-s"
                                *ngIf="StdItemForm.get('stdItemUOM')?.value == 'M'"
                                [attr.disabled]="!isEditSection('offerInformation') || lengthandfactorbtndisable ? '' : null"
                                (click)="openAddLengthandFactor(AddLengthandFactor)">Add Length & Factor</button>

                            <button type="button" class="btn btn-orange-s"
                                *ngIf="StdItemForm.get('stdItemUOM')?.value == 'PC'"
                                (click)="openAddQuantity(AddQuantity)">Add Quantity</button>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="seqno">Seq No.</label>
                            <input class="form-control" type="text" formControlName="seqno" [OnlyNumber]=true
                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null" maxlength="3">
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="customerpartno">Customer Part No.</label>
                            <input class="form-control" type="text" formControlName="customerpartno"
                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null" maxlength="35">
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="importby">Import By</label>
                            <ng-select [items]="importbyList" class="form-control" formControlName="importby"
                                bindLabel="description" bindValue="code" placeholder="Please Select"
                                [attr.disabled]="!isEditSection('offerInformation') ? '' : null">
                            </ng-select>
                        </div>
                    </div>
                    <div class="overflow-auto">
                        <table class="table table-hover table-responsive" id="table-lengthandfactor"
                            *ngIf="StdItemForm.get('stdItemUOM')?.value == 'M'">
                            <thead class="thead-inverse">
                                <tr>
                                    <th *ngIf="isEditSection('offerInformation')">Action</th>
                                    <th>Length</th>
                                    <th>Factor</th>
                                    <th>Quantity</th>
                                    <th>Cutting Charges</th>
                                    <th>Req. Dlv. Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngIf="LengthandFactordata && LengthandFactordata.length > 0">
                                    <tr *ngFor="let lf of filterDatatoDelete(LengthandFactordata); let j = index">
                                        <td *ngIf="isEditSection('offerInformation')">
                                            <button class="btn btn-link p-0 mr-3"
                                                (click)="onLengthandFactorRemove(j)"><img class="table-icon"
                                                    src="../../../../../assets/images/icon-delete.svg"></button>
                                        </td>
                                        <td>{{lf.length}}</td>
                                        <td>{{lf.factor}}</td>
                                        <td>{{lf.qty}}</td>
                                        <td>{{lf.cuttingcharges}}</td>
                                        <td>{{lf.lengthreqdeliverydate}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                            <tfoot *ngIf="LengthandFactordata && LengthandFactordata.length > 0">
                                <tr>
                                    <td *ngIf="isEditSection('offerInformation')">
                                    </td>
                                    <td colspan="3">
                                    </td>
                                    <td>
                                        <strong>{{itemlevelcuttingcharges}}</strong>
                                    </td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>

                        <table class="table table-hover table-responsive" id="table-lengthandfactor"
                            *ngIf="StdItemForm.get('stdItemUOM')?.value == 'PC'">
                            <thead class="thead-inverse">
                                <tr>
                                    <th *ngIf="isEditSection('offerInformation')">Action</th>
                                    <th>Quantity</th>
                                    <th>Req. Dlv. Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngIf="quantityData && quantityData?.length > 0">
                                    <tr *ngFor="let lf of quantityData; let j = index">
                                        <td *ngIf="isEditSection('offerInformation')">
                                            <button class="btn btn-link p-0 mr-3" (click)="onquantityRemove(j)"><img
                                                    class="table-icon"
                                                    src="../../../../../assets/images/icon-delete.svg"></button>
                                        </td>
                                        <td>{{lf.quantity}}</td>
                                        <td>{{ (lf.reqdeliverydate).includes("/") ? (lf.reqdeliverydate) :(
                                            lf.reqdeliverydate | date:'dd/MM/yyyy') }}</td>

                                    </tr>
                                </ng-container>
                            </tbody>
                            <tfoot *ngIf="LengthandFactordata && LengthandFactordata.length > 0">
                                <tr>
                                    <td *ngIf="isEditSection('offerInformation')">
                                    </td>
                                    <td colspan="3">
                                    </td>
                                    <td>
                                        <strong>{{itemlevelcuttingcharges}}</strong>
                                    </td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                    <div class="form-group">
                        <label for="stdItemPrice">List Price</label>
                        <input type="text" class="form-control" formControlName="stdItemPrice" [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="stdItemQty" class="required">Quantity</label>
                        <input class="form-control" type="text" formControlName="stdItemQty" readonly
                            (change)="onItemQtyChange()" [OnlyNumber]=true
                            [attr.disabled]="qtydisable || !isEditSection('offerInformation') ? '' : null"
                            [ngClass]="{ 'is-invalid': submitted && stdItemForm.stdItemQty.errors }">
                        <div *ngIf="submitted && stdItemForm.stdItemQty.errors" class="invalid-feedback">
                            <div *ngIf="stdItemForm.stdItemQty.errors.required">
                                Required!
                            </div>
                        </div>
                    </div>
                    <div class="form-group" *ngIf="isExportOrder">
                        <label for="stdItemexpsurcharge" class="required">Surcharge(Exp)</label>
                        <input class="form-control" type="text" formControlName="stdItemexpsurcharge"
                            [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="itemDiscount">Discount (%)</label>
                        <input class="form-control" type="text" formControlName="itemDiscount" numericwithdecimalminus
                            decimals="2" beforedecimals="2" (change)="discountchange()"
                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null">
                    </div>
                    <div class="form-group">
                        <label for="itemunitnetprice" class="required">Unit Price</label>
                        <input class="form-control" type="text" formControlName="itemunitnetprice"
                            (change)="onItemUnitnetPriceChange()" numericwithdecimal decimals="4" beforedecimals="18"
                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null"
                            [ngClass]="{ 'is-invalid': submitted && stdItemForm.itemunitnetprice.errors }">
                        <div *ngIf="submitted && stdItemForm.itemunitnetprice.errors" class="invalid-feedback">
                            <div *ngIf="stdItemForm.itemunitnetprice.errors.required">
                                Required!
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="itemtotal">Total</label>
                        <input class="form-control" type="text" formControlName="itemtotal" numericwithdecimal
                            decimals="2" beforedecimals="2" [attr.disabled]=true>
                    </div>
                </div>
                <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="stdItemCatalog">Item Catalogue</label>
                        </div>
                        <div style="float: right;">
                            <span *ngIf="isEditSection('offerInformation')"><i class="fas fa-exclamation"></i> <i>
                                    {{500 - ItemCatalogue?.length}} characters
                                    left </i></span>
                        </div>
                        <input class="form-control" type="text" formControlName="stdItemCatalog" maxlength="500"
                            [attr.disabled]="!isEditSection('offerInformation') ? '' : null"
                            [(ngModel)]="ItemCatalogue">

                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="isEditSection('offerInformation')">
                <label>Upload Requirement Documents</label>
                <div><button (click)="fileInput.click()">Select File</button>
                    <input type="file" id="importFile" style="display: none;" (change)="fileChangeListener($event)"
                        multiple #fileInput />
                </div>
            </div>
            <div class="form-group" *ngIf="!isEditSection('offerInformation')">
                <label>Requirement Documents</label>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="row">
                            <div *ngFor="let filedtl of files;let f=index"
                                class="col-md-6 col-lg-3 outer-container-upload-control">
                                <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                        src="../../../../../assets/images/{{setFileTypeIcon(filedtl.type)}}"></div>
                                <div class="upload-control-filename-container dot-views"><a href="javascript:void(0)"
                                        *ngIf="isEdit || isView"
                                        (click)="downloadFile(filedtl.name,filedtl.id,filedtl.type)">{{filedtl.name}}</a>
                                    <span *ngIf="isAdd">{{filedtl.name}}</span>
                                </div>
                                <div class="upload-control-delete-container" *ngIf="isEditSection('offerInformation')">
                                    <button class="btn btn-link p-0" (click)="removeFile(f)">
                                        <img class="table-icon" src="../../../../../assets/images/icon-delete1.svg"
                                            title="delete image"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2" (click)="onItemCancelClick()">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onItemSaveClick()"
            *ngIf="isEditSection('offerInformation')">Save</button>
    </div>
</ng-template>

<ng-template #AddSpecialText let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Special Text</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="SpecialTextForm">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="addspecialtexttitle" class='required'>Title</label>
                        </div>
                        <div style="float: right;">
                            <span *ngIf="isEditSection('termsandcondition')"><i class="fas fa-exclamation"></i> <i>
                                    {{90 - SpecialTermTitle?.length}} characters
                                    left</i></span>
                        </div>
                        <input type="text" class="form-control" formControlName="addspecialtexttitle"
                            [attr.disabled]="!isEditSection('termsandcondition') ? '' : null"
                            [ngClass]="{ 'is-invalid': submitted && specialTextForm.addspecialtexttitle.errors }"
                            [(ngModel)]="SpecialTermTitle" maxlength="90">
                        <div *ngIf="submitted && specialTextForm.addspecialtexttitle.errors" class="invalid-feedback">
                            <div *ngIf="specialTextForm.addspecialtexttitle.errors.required">
                                Please Enter Title
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="addspecialtextdescription" class='required'>Description</label>
                        </div>
                        <div style="float: right;">
                            <span *ngIf="isEditSection('termsandcondition')"><i class="fas fa-exclamation"></i> <i>
                                    {{500 - SpecialTermDescription?.length}}
                                    characters left </i> </span>
                        </div>
                        <textarea rows="3" cols="50" formControlName="addspecialtextdescription"
                            [attr.disabled]="!isEditSection('termsandcondition') ? '' : null"
                            [ngClass]="{ 'is-invalid': submitted && specialTextForm.addspecialtextdescription.errors }"
                            [(ngModel)]="SpecialTermDescription" maxlength="500"></textarea>
                        <div *ngIf="submitted && specialTextForm.addspecialtextdescription.errors"
                            class="invalid-feedback">
                            <div *ngIf="specialTextForm.addspecialtextdescription.errors.required">
                                Please Enter Description
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" *ngIf="isEditSection('termsandcondition')"
            (click)="onSpecialTextSave()">Save</button>
    </div>

</ng-template>

<ng-template #AddLengthandFactor let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Length and Factor</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="LengthandFactorForm">
            <div class="col-12 alert alert-danger" *ngIf="subErrorMessage.length > 0">
                {{subErrorMessage}}
            </div>
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="itemLength" class="required">Length</label>
                        <ng-select [items]="itemLengthList" class="form-control" formControlName="itemLength"
                            bindLabel="description" bindValue="code" (change)="onLengthChange($event)"
                            [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.itemLength.errors }">
                        </ng-select>
                        <div *ngIf="submitted && lengthandFactorForm.itemLength.errors" class="invalid-feedback">
                            <div *ngIf="lengthandFactorForm.itemLength.errors.required">
                                Length is required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="itemFactor" class="required">Factor</label>
                        <input type="text" class="form-control" formControlName="itemFactor" [OnlyNumber]=true
                            [ngClass]="{ 'is-invalid': submitted && (lengthandFactorForm.itemFactor.errors || lengthandFactorForm.itemFactor.value <= 0) }"
                            (change)=onfactorchange($event) />
                        <div *ngIf="submitted && lengthandFactorForm.itemFactor.errors" class="invalid-feedback">
                            <div *ngIf="lengthandFactorForm.itemFactor.errors.required">
                                Factor is required
                            </div>
                        </div>
                        <div *ngIf="submitted && !lengthandFactorForm.itemFactor.errors && lengthandFactorForm.itemFactor.value <= 0"
                            class="invalid-feedback">
                            Factor must be greater than 0
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="lfqty">Qty</label>
                        <input type="text" class="form-control" formControlName="lfqty" [OnlyNumber]=true
                            [attr.disabled]=true />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="lengthreqdeliverydate" class="required">Req. Dlv. Date</label>
                    <div class="input-group"
                        [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }">
                        <input class="form-control doc-date" formcontrolname="lengthreqdeliverydate" ngbDatepicker
                            #lengthreqdeliverydate="ngbDatepicker" [value]="formatter.format(lengthreqdeliveryDate)"
                            (dateSelect)="onLengthReqDeliveryDateSelection($event)" readonly [minDate]="todayMinDate"
                            [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="lengthreqdeliverydate.toggle()"
                                type="button"></button>
                        </div>
                    </div>
                    <div *ngIf="submitted && lengthandFactorForm.lengthreqdeliverydate.errors" class="invalid-feedback">
                        <div *ngIf="lengthandFactorForm.lengthreqdeliverydate.errors.required">
                            Req. Dlv. Date is required
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12" *ngIf="isShowOtherLength">
                    <div class="form-group">
                        <label for="itemLength" class="required">Other Length</label>
                        <input type="text" class="form-control" formControlName="otherLength" [OnlyNumber]=true
                            [ngClass]="{ 'is-invalid': submitted && (lengthandFactorForm.otherLength.errors || lengthandFactorForm.otherLength.value <= 0) }"
                            (change)="onOtherLengthChange()" />
                        <div *ngIf="submitted && lengthandFactorForm.otherLength.errors" class="invalid-feedback">
                            <div *ngIf="lengthandFactorForm.otherLength.errors.required">
                                Length is required
                            </div>
                        </div>
                        <div *ngIf="submitted && !lengthandFactorForm.otherLength.errors && lengthandFactorForm.otherLength.value <= 0"
                            class="invalid-feedback">
                            length must be greater than 0
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <!-- <button type="button" class="btn btn-orange-s" (click)="modal.close('Save click')">Save</button> -->
        <button type="button" class="btn btn-orange-s" data-dismiss="modal"
            (click)="onLengthandFactorSave()">Save</button>
    </div>
</ng-template>
<ng-template #AddQuantity let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Quantity</h4>
        <button type="button" class="close" aria-label="Close" (click)="closeQuantity()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form #myForm="ngForm">
            <div class="col-12 alert alert-danger" *ngIf="subErrorMessage.length > 0">
                {{subErrorMessage}}
            </div>
            <div class="row">

                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="lfqty" class="required">Qty</label>
                        <input type="text" class="form-control" name="quantity" [(ngModel)]="addQuantity.quantity"
                            [ngStyle]="{'border-color': (submitted && !addQuantity.quantity) ? '#f00' : ''}"
                            [OnlyNumber]=true />
                        <div *ngIf="submitted && !addQuantity.quantity"
                            style="font-size: 0.846rem;font-style: italic; color: #f00;">Required!</div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="lengthreqdeliverydate" class="required">Req. Dlv. Date</label>
                    <div class="input-group"
                        [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }">
                        <input class="form-control doc-date" name="quantityreqdeliverydate" ngbDatepicker
                            #lengthreqdeliverydate="ngbDatepicker" [value]="formatter.format(lengthreqdeliveryDate)"
                            (dateSelect)="onQuantityReqDeliveryDateSelection($event)" readonly [minDate]="todayMinDate"
                            [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="lengthreqdeliverydate.toggle()"
                                type="button"></button>
                        </div>
                    </div>
                    <div *ngIf="submitted && lengthandFactorForm.lengthreqdeliverydate.errors" class="invalid-feedback">
                        <div *ngIf="lengthandFactorForm.lengthreqdeliverydate.errors.required">
                            Req. Dlv. Date is required
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="lengthreqdeliverydate" class="required">Req. Dlv. Date</label>
                    <div class="input-group"
                        [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }">
                        <input class="form-control doc-date" formcontrolname="lengthreqdeliverydate" ngbDatepicker
                            #lengthreqdeliverydate="ngbDatepicker" [value]="formatter.format(lengthreqdeliveryDate)"
                            (dateSelect)="onLengthReqDeliveryDateSelection($event)" readonly [minDate]="todayMinDate"
                            [ngClass]="{ 'is-invalid': submitted && lengthandFactorForm.lengthreqdeliverydate.errors }" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="lengthreqdeliverydate.toggle()"
                                type="button"></button>
                        </div>
                    </div>
                    <div *ngIf="submitted && lengthandFactorForm.lengthreqdeliverydate.errors" class="invalid-feedback">
                        <div *ngIf="lengthandFactorForm.lengthreqdeliverydate.errors.required">
                            Req. Dlv. Date is required
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12" *ngIf="isShowOtherLength">
                    <div class="form-group">
                        <label for="itemLength" class="required">Other Length</label>
                        <input type="text" class="form-control" formControlName="otherLength" [OnlyNumber]=true
                            [ngClass]="{ 'is-invalid': submitted && (lengthandFactorForm.otherLength.errors || lengthandFactorForm.otherLength.value <= 0) }"
                            (change)="onOtherLengthChange()" />
                        <div *ngIf="submitted && lengthandFactorForm.otherLength.errors" class="invalid-feedback">
                            <div *ngIf="lengthandFactorForm.otherLength.errors.required">
                                Length is required
                            </div>
                        </div>
                        <div *ngIf="submitted && !lengthandFactorForm.otherLength.errors && lengthandFactorForm.otherLength.value <= 0"
                            class="invalid-feedback">
                            length must be greater than 0
                        </div>
                    </div>
                </div>
            </div> -->
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2" *ngIf="StdItemForm.get('stdItemUOM')?.value == 'M'"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-outline-s mr-2" *ngIf="StdItemForm.get('stdItemUOM')?.value == 'PC'"
            (click)="closeQuantity()">Cancel</button>
        <!-- <button type="button" class="btn btn-orange-s" (click)="modal.close('Save click')">Save</button> -->
        <button type="button" class="btn btn-orange-s" data-dismiss="modal"
            *ngIf="StdItemForm.get('stdItemUOM')?.value == 'M'" (click)="onLengthandFactorSave()">Save</button>
        <button type="button" class="btn btn-orange-s" data-dismiss="modal"
            *ngIf="StdItemForm.get('stdItemUOM')?.value == 'PC'" (click)="onQuantitySave()">Save</button>
    </div>
</ng-template>

<ng-template #SPRItemContent let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add/Edit Special Item (SPR)</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="SPRItemForm">
            <div class="form-group">
                <div style="float: left;">
                    <label for="sprItemDesc" class='required'>Description</label>
                </div>
                <div style="float: right;">
                    <span *ngIf="isEditSection('offerInformation')">
                        <i class="fas fa-exclamation"></i> <i> {{250 - sprItemDescription?.length}} characters
                            left.</i></span>
                </div>
                <input type="text" class="form-control" formControlName="sprItemDesc"
                    [ngClass]="{ 'is-invalid': submitted && sprItemForm.sprItemDesc.errors }"
                    [attr.disabled]="!isEditSection('offerInformation') ? '' : null" maxlength="250"
                    [(ngModel)]="sprItemDescription">
                <div *ngIf="submitted && sprItemForm.sprItemDesc.errors" class="invalid-feedback">
                    <div *ngIf="sprItemForm.sprItemDesc.errors.required">
                        Description is required
                    </div>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12 mt-4">
                    <button type="button" class="btn btn-orange-s"
                        [attr.disabled]="!isEditSection('offerInformation') ? '' : null"
                        (click)="openAddLengthandFactorSPR(AddLengthandFactorSPR)">Add Length & Factor</button>
                </div>
                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                    <label for="seqno">Seq No.</label>
                    <input class="form-control" type="text" formControlName="seqno" [OnlyNumber]=true
                        [attr.disabled]="!isEditSection('offerInformation') ? '' : null" maxlength="3">
                </div>
                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12" *ngIf="isEditSection('offerInformation')">
                    <label for="itemreqdeliverydate" class="required">Req. Dlv. Date</label>
                    <div class="input-group"
                        [ngClass]="{ 'is-invalid': submitted && sprItemForm.itemreqdeliverydate.errors }">
                        <input class="form-control doc-date" formcontrolname="itemreqdeliverydate" ngbDatepicker
                            #itemreqdeliverydate="ngbDatepicker" [value]="formatter.format(spritemreqdeliveryDate)"
                            (dateSelect)="onSPRItemReqDeliveryDateSelection($event)" readonly [minDate]="todayMinDate"
                            [ngClass]="{ 'is-invalid': submitted && sprItemForm.itemreqdeliverydate.errors }" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="itemreqdeliverydate.toggle()"
                                type="button"></button>
                        </div>
                    </div>
                    <div *ngIf="submitted && sprItemForm.itemreqdeliverydate.errors" class="invalid-feedback">
                        <div *ngIf="sprItemForm.itemreqdeliverydate.errors.required">
                            Req. Dlv. Date is required
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12" *ngIf="!isEditSection('offerInformation')">
                    <label for="itemreqdeliverydate">Req. Delivery Date</label>
                    <input class="form-control" type="text" formControlName="itemreqdeliverydate">
                </div>
                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                    <label for="customerpartno">Customer Part No.</label>
                    <input class="form-control" type="text" formControlName="customerpartno"
                        [attr.disabled]="!isEditSection('offerInformation') ? '' : null" maxlength="35">
                </div>
                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                    <label for="sprItemQty" class="required">Quantity</label>
                    <input class="form-control" type="text" formControlName="sprItemQty" [OnlyNumber]=true
                        [attr.disabled]="SPRLengthandFactordata.length > 0 || !isEditSection('offerInformation') ? '' : null"
                        [ngClass]="{ 'is-invalid': submitted && sprItemForm.sprItemQty.errors }">
                    <div *ngIf="submitted && sprItemForm.sprItemQty.errors" class="invalid-feedback">
                        <div *ngIf="sprItemForm.sprItemQty.errors.required">
                            Quantity is required
                        </div>
                    </div>
                </div>
            </div>
            <div class="overflow-auto">
                <table class="table table-hover table-responsive" id="table-lengthandfactor">
                    <thead class="thead-inverse">
                        <tr>
                            <th *ngIf="isEditSection('offerInformation')">Action</th>
                            <th>Length</th>
                            <th>Factor</th>
                            <th>Quantity</th>
                            <th>Req. Dlv. Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngIf="SPRLengthandFactordata && SPRLengthandFactordata.length > 0">
                            <tr *ngFor="let lf of filterDatatoDelete(SPRLengthandFactordata); let j = index">
                                <td *ngIf="isEditSection('offerInformation')">
                                    <button class="btn btn-link p-0 mr-3" (click)="onSPRLengthandFactorRemove(j)"><img
                                            class="table-icon"
                                            src="../../../../../assets/images/icon-delete.svg"></button>
                                </td>
                                <td>{{lf.length}}</td>
                                <td>{{lf.factor}}</td>
                                <td>{{lf.qty}}</td>
                                <td>{{lf.sprlengthreqdeliverydate}}</td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
            <div class="form-group" *ngIf="isEditSection('offerInformation')">
                <label>Attachments</label>
                <div><button (click)="fileInput.click()">Select File</button>
                    <input type="file" id="importFile" style="display: none;" (change)="SPRfileChangeListener($event)"
                        multiple #fileInput />
                </div>
            </div>
            <div class="form-group" *ngIf="!isEditSection('offerInformation')">
                <label>Attachments</label>
            </div>
            <div class="col-12 mt-3" *ngIf="SPRFiles.length > 0">
                <div class="row">
                    <div *ngFor="let sprfiledtl of SPRFiles;let f=index"
                        class="col-md-12 col-lg-6 outer-container-upload-control ml-0">
                        <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                src="../../../../../assets/images/{{setFileTypeIcon(sprfiledtl.type)}}">
                        </div>
                        <div class="upload-control-filename-container dot-views"><a href="javascript:void(0)"
                                *ngIf="isEdit || isView"
                                (click)="downloadFile(sprfiledtl.name,sprfiledtl.id,sprfiledtl.type)">
                                {{sprfiledtl.name}}</a><span *ngIf="isAdd">{{sprfiledtl.name}}</span></div>
                        <div class="upload-control-delete-container">
                            <button class="btn btn-link p-0" (click)="removeSPRFile(f)">
                                <img class="table-icon" src="../../../../../assets/images/icon-delete1.svg"
                                    title="delete image"></button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2" (click)="onSPRItemCancel()">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onSPRItemSave()"
            *ngIf="isEditSection('offerInformation')">Save</button>
    </div>
</ng-template>

<ng-template #DeletedSPRItemContent let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">View Special Item (SPR)</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="DeletedSPRItemForm">
            <div class="form-group">
                <div style="float: left;">
                    <label for="delsprItemDesc" class='required'>Description</label>
                </div>
                <input type="text" class="form-control" formControlName="delsprItemDesc" [attr.disabled]="true">
            </div>
            <div class="row form-group">
                <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <label for="delseqno">Seq No.</label>
                    <input class="form-control" type="text" formControlName="delseqno" [attr.disabled]="true">
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="delcustomerpartno">Customer Part No.</label>
                    <input class="form-control" type="text" formControlName="delcustomerpartno" [attr.disabled]="true">
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="delsprItemQty" class="required">Quantity</label>
                    <input class="form-control" type="text" formControlName="delsprItemQty" [attr.disabled]="true">
                </div>
            </div>
            <div class="overflow-auto">
                <table class="table table-hover table-responsive" id="table-lengthandfactor">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Length</th>
                            <th>Factor</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngIf="DeletedSPRLengthandFactordata && DeletedSPRLengthandFactordata.length > 0">
                            <tr *ngFor="let lf of DeletedSPRLengthandFactordata; let j = index">
                                <td>{{lf.length}}</td>
                                <td>{{lf.factor}}</td>
                                <td>{{lf.qty}}</td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
            <div class="form-group">
                <label>Attachments</label>
            </div>
            <div class="col-12 mt-3" *ngIf="DeletedSPRFiles.length > 0">
                <div class="row">
                    <div *ngFor="let sprfiledtl of DeletedSPRFiles;let f=index"
                        class="col-md-12 col-lg-6 outer-container-upload-control">
                        <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                src="../../../../../assets/images/{{setFileTypeIcon(sprfiledtl.type)}}">
                        </div>
                        <div class="upload-control-filename-container dot-views"><a href="javascript:void(0)"
                                *ngIf="isEdit || isView"
                                (click)="downloadFile(sprfiledtl.name,sprfiledtl.id,sprfiledtl.type)">
                                {{sprfiledtl.name}}</a><span *ngIf="isAdd">{{sprfiledtl.name}}</span></div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
    </div>
</ng-template>

<ng-template #AddLengthandFactorSPR let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Length and Factor</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="SPRLengthandFactorForm">
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="sprlength" class="required">Length</label>
                        <input type="text" class="form-control" formControlName="sprlength" [OnlyNumber]=true
                            [ngClass]="{ 'is-invalid': submitted && sprLengthandFactorForm.sprlength.errors }"
                            (change)="onSPRLengthChange($event)" />
                        <div *ngIf="submitted && sprLengthandFactorForm.sprlength.errors" class="invalid-feedback">
                            <div *ngIf="sprLengthandFactorForm.sprlength.errors.required">
                                Length is required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="sprFactor" class="required">Factor</label>
                        <input type="text" class="form-control" formControlName="sprFactor" [OnlyNumber]=true
                            [ngClass]="{ 'is-invalid': submitted && sprLengthandFactorForm.sprFactor.errors }"
                            (change)=onSPRfactorchange($event) />
                        <div *ngIf="submitted && sprLengthandFactorForm.sprFactor.errors" class="invalid-feedback">
                            <div *ngIf="sprLengthandFactorForm.sprFactor.errors.required">
                                Factor is required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label for="sprlfqty">Qty</label>
                        <input type="text" class="form-control" formControlName="sprlfqty" [OnlyNumber]=true
                            [attr.disabled]=true />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <label for="sprlengthreqdeliverydate" class="required">Req. Dlv. Date</label>
                    <div class="input-group"
                        [ngClass]="{ 'is-invalid': submitted && sprLengthandFactorForm.sprlengthreqdeliverydate.errors }">
                        <input class="form-control doc-date" formcontrolname="sprlengthreqdeliverydate" ngbDatepicker
                            #sprlengthreqdeliverydate="ngbDatepicker"
                            [value]="formatter.format(sprlengthreqdeliveryDate)"
                            (dateSelect)="onSPRLengthReqDeliveryDateSelection($event)" readonly [minDate]="todayMinDate"
                            [ngClass]="{ 'is-invalid': submitted && sprLengthandFactorForm.sprlengthreqdeliverydate.errors }" />
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar"
                                (click)="sprlengthreqdeliverydate.toggle()" type="button"></button>
                        </div>
                    </div>
                    <div *ngIf="submitted && sprLengthandFactorForm.sprlengthreqdeliverydate.errors"
                        class="invalid-feedback">
                        <div *ngIf="sprLengthandFactorForm.sprlengthreqdeliverydate.errors.required">
                            Req. Dlv. Date is required
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" data-dismiss="modal"
            (click)="onSPRLengthandFactorSave()">Save</button>
    </div>
</ng-template>

<ng-template #DeletedItem let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">View Item</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="StdItemForm" enctype="multipart/form-data" method="POST">
            <div class="row">
                <div class="col-md-12">
                    <div class="w-50 float-left mr-3">
                        <label for="stditemCode">Article No</label>
                        <input type="text" class="form-control" formControlName="stditemCode" [attr.disabled]=true>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-xl-10 col-lg-10 col-md-10 col-sm-12">
                    <div class="row form-group">
                        <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12">
                            <label for="stdItemName">Description</label>
                            <input type="text" class="form-control" formControlName="stdItemName" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12 p-0" *ngIf="showpclength">
                            <label for="stdItemUOM">UOM</label>
                            <div class="row">
                                <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12 pr-0">
                                    <input type="text" class="form-control" formControlName="stdItemUOM"
                                        [attr.disabled]=true>
                                </div>
                                <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12 pl-2">
                                    <input type="text" class="form-control" formControlName="stdItemPCLength"
                                        [attr.disabled]=true>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12" *ngIf="!showpclength">
                            <label for="stdItemUOM">UOM</label>
                            <input type="text" class="form-control" formControlName="stdItemUOM" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="ItemMDQ">MDQ</label>
                            <input type="text" class="form-control" formControlName="ItemMDQ" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="ItemMOQ">MOQ</label>
                            <input type="text" class="form-control" formControlName="ItemMOQ" [attr.disabled]=true>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"></div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="stdItemType">Type</label>
                            <input type="text" class="form-control" formControlName="stdItemType" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="seqno">Req. Dlv. Date</label>
                            <input class="form-control" type="text" formControlName="itemreqdeliverydate"
                                [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="enquiredquantity" class="required">Enquired Quantity</label>
                            <input type="text" class="form-control" formControlName="enquiredquantity"
                                [attr.disabled]=true>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"></div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                            <label for="seqno">Seq No.</label>
                            <input class="form-control" type="text" formControlName="seqno" [OnlyNumber]=true
                                [attr.disabled]=true maxlength="3">
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="customerpartno">Customer Part No.</label>
                            <input class="form-control" type="text" formControlName="customerpartno"
                                [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                            <label for="importby">Import By</label>
                            <input class="form-control" type="text" formControlName="importby" [attr.disabled]=true>
                        </div>
                    </div>
                    <div class="overflow-auto">
                        <table class="table table-hover table-responsive" id="table-lengthandfactor">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Length</th>
                                    <th>Factor</th>
                                    <th>Quantity</th>
                                    <th>Cutting Charges</th>
                                    <th>Req. Dlv. Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngIf="LengthandFactordata && LengthandFactordata.length > 0">
                                    <tr *ngFor="let lf of LengthandFactordata;">
                                        <td>{{lf.length}}</td>
                                        <td>{{lf.factor}}</td>
                                        <td>{{lf.qty}}</td>
                                        <td>{{lf.cuttingcharges}}</td>
                                        <td>{{lf.lengthreqdeliverydate}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                            <tfoot *ngIf="LengthandFactordata && LengthandFactordata.length > 0">
                                <tr>
                                    <td colspan="3">
                                    </td>
                                    <td>
                                        <strong>{{itemlevelcuttingcharges}}</strong>
                                    </td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div class="col-12 col-xl-2 col-lg-2 col-md-2 col-sm-12">
                    <div class="form-group">
                        <label for="stdItemPrice">List Price</label>
                        <input type="text" class="form-control" formControlName="stdItemPrice" [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="stdItemQty">Quantity</label>
                        <input class="form-control" type="text" formControlName="stdItemQty" [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="itemunitnetprice" class="required">Unit Price</label>
                        <input class="form-control" type="text" formControlName="itemunitnetprice" [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="itemDiscount">Discount (%)</label>
                        <input class="form-control" type="text" formControlName="itemDiscount" numericwithdecimal
                            decimals="2" beforedecimals="2" [attr.disabled]=true>
                    </div>
                    <div class="form-group">
                        <label for="itemtotal">Total</label>
                        <input class="form-control" type="text" formControlName="itemtotal" numericwithdecimal
                            decimals="2" beforedecimals="2" [attr.disabled]=true>
                    </div>
                </div>
                <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group">
                        <label for="stdItemCatalog">Item Catalogue</label>
                        <input class="form-control" type="text" formControlName="stdItemCatalog" [attr.disabled]=true>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Requirement Documents</label>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="row">
                            <div *ngFor="let filedtl of files;let f=index"
                                class="col-md-6 col-lg-3 outer-container-upload-control">
                                <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                        src="../../../../../assets/images/{{setFileTypeIcon(filedtl.type)}}"></div>
                                <div class="upload-control-filename-container dot-views"><a href="javascript:void(0)"
                                        *ngIf="isEdit || isView"
                                        (click)="downloadFile(filedtl.name,filedtl.id,filedtl.type)">{{filedtl.name}}</a>
                                    <span *ngIf="isAdd">{{filedtl.name}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
    </div>
</ng-template>

<ng-template #ImportItems let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Import MFG/TRD Items</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ImportItemsForm">
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12" *ngIf="isEditSection('offerInformation')">
                    <div class="form-group">
                        <label class="required">Attachments</label>
                        <div><button (click)="fileInput.click()">Select File</button>
                            <input type="file" id="importFile" style="display: none;"
                                (change)="ImportItemsfileChangeListener($event)" #fileInput accept=".xlsx, .xls" />
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-1 col-lg-1 col-md-2 col-sm-12" *ngIf="!isEditSection('offerInformation')">
                    <div class="form-group">
                        <label class="required">Attachments</label>
                    </div>
                </div>
                <div class="col-12 mt-3" *ngIf="ImportItemFiles">
                    <div class="row">
                        <div class="col-md-12 col-lg-6 outer-container-upload-control">
                            <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                    src="../../../../../assets/images/{{setFileTypeIcon(ImportItemFiles.type)}}">
                            </div>
                            <div class="upload-control-filename-container dot-views">
                                <span>{{ImportItemFiles.name}}</span>
                            </div>
                            <div class="upload-control-delete-container">
                                <button class="btn btn-link p-0" (click)="removeImportItemFile()">
                                    <img class="table-icon" src="../../../../../assets/images/icon-delete1.svg"
                                        title="delete image"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <p class="pl-2 pt-2">Click <button type="link" class="btn-link button-link px-1"
                (click)="downloadImportItemSample()">here</button> to download sample file.</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onImportItemSave(ItemStatusModal)">Save</button>
    </div>
</ng-template>

<ng-template #ItemStatusModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Status of import items</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="overflow-auto">
                    <table class="table table-hover table-responsive table-sorting" id="table-opportunities">
                        <thead class="thead-inverse">
                            <tr>
                                <th>Seq No</th>
                                <th>Article No</th>
                                <th>Description</th>
                                <th>Unit Price</th>
                                <th>Qty</th>
                                <th>Discount</th>
                                <th>Remarks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let iis of importItemStatus">
                                <td>{{iis.seqno}}</td>
                                <td>{{iis.articleNo}}</td>
                                <td>{{iis.description}}</td>
                                <td>{{iis.unitprice}}</td>
                                <td>{{iis.quantity}}</td>
                                <td>{{iis.discountPer}}</td>
                                <td>{{iis.Remarks}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onProceedtoAddItem()">Proceed to Add Items</button>
    </div>
</ng-template>

<ng-template #specialtermsdeletemodel let-modal>
    <app-delete-confirmation [model]="deleteConfirModel" (ondelete)="onSpecialTermsDelete($event)"
        (onclose)="modal.dismiss('no click')">
    </app-delete-confirmation>
</ng-template>

<ng-template #stditemdeletemodel let-modal>
    <app-delete-confirmation [model]="deleteConfirModel" (ondelete)="onSTDItemDelete($event)"
        (onclose)="modal.dismiss('no click')">
    </app-delete-confirmation>
</ng-template>

<ng-template #spritemdeletemodel let-modal>
    <app-delete-confirmation [model]="deleteConfirModel" (ondelete)="onSPRItemDelete($event)"
        (onclose)="modal.dismiss('no click')">
    </app-delete-confirmation>
</ng-template>

<ng-template #itemdeleteallmodel let-modal>
    <app-delete-confirmation (ondelete)="onDeleteAllClick()" (onclose)="modal.dismiss('no click')">
    </app-delete-confirmation>
</ng-template>

<ng-template #offerapprovemodel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Offer Approve</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ApproveForm">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="approvereason" class='required'>Comment</label>
                        </div>
                        <div style="float: right;">
                            <span><i class="fas fa-exclamation"></i> <i>
                                    {{500 - ApproveReason?.length}}
                                    characters left </i> </span>
                        </div>
                        <textarea rows="3" cols="50" formControlName="approvereason"
                            [ngClass]="{ 'is-invalid': submitted && approveForm.approvereason.errors }"
                            [(ngModel)]="ApproveReason" maxlength="500"></textarea>
                        <div *ngIf="submitted && approveForm.approvereason.errors" class="invalid-feedback">
                            <div *ngIf="approveForm.approvereason.errors.required">
                                Comment is required
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer text-right">
        <button type="button" ngbAutofocus class="btn btn-outline-secondary" style="min-width: 50px;"
            (click)="modal.dismiss('Cross click')">
            <i title='Cancel'></i> No</button>
        <button type="button" class="btn btn-success" (click)="onApprovedClick()" style="min-width: 50px;">
            <i title='Yes'></i>Yes</button>
    </div>
</ng-template>

<ng-template #offerrejectmodel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Offer Reject</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="RejectForm">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="rejectreason" class='required'>Reason</label>
                        </div>
                        <div style="float: right;">
                            <span><i class="fas fa-exclamation"></i> <i>
                                    {{500 - RejectReason?.length}}
                                    characters left </i> </span>
                        </div>
                        <textarea rows="3" cols="50" formControlName="rejectreason"
                            [ngClass]="{ 'is-invalid': submitted && rejectForm.rejectreason.errors }"
                            [(ngModel)]="RejectReason" maxlength="500"></textarea>
                        <div *ngIf="submitted && rejectForm.rejectreason.errors" class="invalid-feedback">
                            <div *ngIf="rejectForm.rejectreason.errors.required">
                                Reason is required
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" style="min-width: 50px;"
            (click)="modal.dismiss('Cross click')">No</button>
        <button type="button" class="btn btn-danger" style="min-width: 50px;" (click)="onRejectClick()">Yes</button>
    </div>
</ng-template>

<ng-template #customerapprovemodel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Offer Approve</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ApproveForm">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="approvereason" class='required'>Comment</label>
                        </div>
                        <div style="float: right;">
                            <span><i class="fas fa-exclamation"></i> <i>
                                    {{500 - ApproveReason?.length}}
                                    characters left </i> </span>
                        </div>
                        <textarea rows="3" cols="50" formControlName="approvereason"
                            [ngClass]="{ 'is-invalid': submitted && approveForm.approvereason.errors }"
                            [(ngModel)]="ApproveReason" maxlength="500"></textarea>
                        <div *ngIf="submitted && approveForm.approvereason.errors" class="invalid-feedback">
                            <div *ngIf="approveForm.approvereason.errors.required">
                                Comment is required
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer text-right">
        <button type="button" ngbAutofocus class="btn btn-outline-secondary" style="min-width: 50px;"
            (click)="modal.dismiss('Cross click')">
            <i title='Cancel'></i> No</button>
        <button type="button" class="btn btn-success" (click)="onCustomerApprovedClick()" style="min-width: 50px;">
            <i title='Yes'></i>Yes</button>
    </div>
</ng-template>

<ng-template #customerrejectmodel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Offer Amendment</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="RejectForm">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <div style="float: left;">
                            <label for="rejectreason" class='required'>Reason</label>
                        </div>
                        <div style="float: right;">
                            <span><i class="fas fa-exclamation"></i> <i>
                                    {{500 - RejectReason?.length}}
                                    characters left </i> </span>
                        </div>
                        <textarea rows="3" cols="50" formControlName="rejectreason"
                            [ngClass]="{ 'is-invalid': submitted && rejectForm.rejectreason.errors }"
                            [(ngModel)]="RejectReason" maxlength="500"></textarea>
                        <div *ngIf="submitted && rejectForm.rejectreason.errors" class="invalid-feedback">
                            <div *ngIf="rejectForm.rejectreason.errors.required">
                                Reason is required
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" style="min-width: 50px;"
            (click)="modal.dismiss('Cross click')">No</button>
        <button type="button" class="btn btn-danger" style="min-width: 50px;"
            (click)="onCustomerRejectClick()">Yes</button>
    </div>
</ng-template>

<ng-template #ProductSearchModel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Search Product</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <!-- <form [formGroup]="RejectForm"> -->
        <div class="col-12">
           
                <div class="row">
                    <div class="col-12">
                        <app-appsearch [model]="searchModel" (callBack)="onSearch($event)"></app-appsearch>
                    </div>
                </div>
            
            <table class="table table-hover table-responsive table-sorting" id="table-productmaster">
                <thead class="thead-inverse">
                    <tr>
                        <th>Action</th>
                        <th (click)="headerClick($event)" name="articleno" id="articleno">Article Number</th>
                        <th (click)="headerClick($event)" name="description" id="description">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngIf="productmasterlist.length == 0">
                        <td colspan="3" style="text-align: center;">
                            No Records Found
                        </td>
                    </tr>
                    <tr *ngFor="let pm of productmasterlist" (dblclick)="onSelectProductClick(pm.articleno)">
                        <td>
                            <button class="btn btn-link p-0"
                                (click)="onSelectProductClick(pm.articleno)">Select</button>
                        </td>
                        <td>{{pm.articleno}}</td>
                        <td>{{pm.description}}</td>
                    </tr>
                </tbody>
            </table>

            <label class="list-totalrecords">Total Records: {{totalRows}}</label>
            <ul *ngIf="pager.pages && pager.pages.length && totalRows > pageSize" class="pagination">
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a *ngIf="pager.currentPage === 1; else elseFirst"> First</a>
                    <ng-template #elseFirst>
                        <a (click)="setPage(1)">First</a>
                    </ng-template>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a *ngIf="pager.currentPage === 1; else elsePrevious"> Previous</a>
                    <ng-template #elsePrevious>
                        <a (click)="setPage(pager.currentPage - 1)"> Previous</a>
                    </ng-template>
                </li>
                <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                    <a (click)="setPage(page)">{{page}}</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a *ngIf="pager.currentPage === pager.totalPages; else elseNext">Next</a>
                    <ng-template #elseNext>
                        <a (click)="setPage(pager.currentPage + 1)">Next</a>
                    </ng-template>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a *ngIf="pager.currentPage === pager.totalPages; else elseLast">Last</a>
                    <ng-template #elseLast>
                        <a (click)="setPage(pager.totalPages)">Last</a>
                    </ng-template>
                </li>
            </ul>
        </div>
        <!-- </form> -->
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
    </div>
</ng-template>

<ng-template #ItemAdditionalFieldsModel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Item Additional Fields</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ItemAdditionalFieldsForm">
            <div class="row">
                <div class="col-12">
                    <div class="row form-group">
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <label for="iafItemno">Item No</label>
                            <input type="text" class="form-control" formControlName="iafItemno" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <label for="iafArticleno">Article No</label>
                            <input type="text" class="form-control" formControlName="iafArticleno" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <label for="iafQuantity">Quantity</label>
                            <input type="text" class="form-control" formControlName="iafQuantity" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <label for="iafunitprice">Unit Price</label>
                            <input type="text" class="form-control" formControlName="iafunitprice" [attr.disabled]=true>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="overdelvtolerance" class="required">Overdelv.
                                    Tolerance</label>
                                <input class="form-control" type="text" formControlName="overdelvtolerance"
                                    numericwithdecimal decimals="1" beforedecimals="2"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null"
                                    [ngClass]="{ 'is-invalid': submitted && itemAdditionalFieldsForm.overdelvtolerance.errors }" />
                                <div *ngIf="submitted && itemAdditionalFieldsForm.overdelvtolerance.errors"
                                    class="invalid-feedback">
                                    <div *ngIf="itemAdditionalFieldsForm.overdelvtolerance.errors.required">
                                        Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="underdelvtolerance" class="required">Underdelv.
                                    Tolerance</label>
                                <input class="form-control" type="text" formControlName="underdelvtolerance"
                                    numericwithdecimal decimals="1" beforedecimals="2"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null"
                                    [ngClass]="{ 'is-invalid': submitted && itemAdditionalFieldsForm.underdelvtolerance.errors }" />
                                <div *ngIf="submitted && itemAdditionalFieldsForm.underdelvtolerance.errors"
                                    class="invalid-feedback">
                                    <div *ngIf="itemAdditionalFieldsForm.underdelvtolerance.errors.required">
                                        Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"
                            *ngIf="isEditSection('additionalfields')">
                            <div class="form-group">
                                <label class="required">Req. Delivery Date</label>
                                <div class="input-group">
                                    <input class="form-control doc-date" formcontrolname="reqdeliverydate" ngbDatepicker
                                        #reqdeliverydate="ngbDatepicker" [value]="formatter.format(reqdeliveryDate)"
                                        (dateSelect)="onReqDeliveryDateSelection($event)" readonly
                                        [minDate]="todayMinDate" />
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary calendar"
                                            (click)="reqdeliverydate.toggle()" type="button"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12"
                            *ngIf="!isEditSection('additionalfields')">
                            <label for="reqdeliverydate">Req. Delivery Date</label>
                            <input class="form-control" type="text" formControlName="reqdeliverydate">
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="packingmaterialtype">Packaging Type</label>
                                <ng-select [items]="meansoftransportList" class="form-control"
                                    formControlName="packingmaterialtype" bindLabel="description" bindValue="code">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="meansoftransport">Means of Transport</label>
                                <ng-select [items]="meansoftransportList" class="form-control"
                                    formControlName="meansoftransport" bindLabel="description" bindValue="code">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="planningblock">Planning block</label>
                                <ng-select [items]="planningblockList" class="form-control"
                                    formControlName="planningblock" bindLabel="description" bindValue="code">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="freightzfro">Freight[ZFRO]</label>
                                <input class="form-control" type="text" formControlName="freightzfro" numericwithdecimal
                                    decimals="4" beforedecimals="18"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="freightzfrk">Freight[ZFRK]</label>
                                <input class="form-control" type="text" formControlName="freightzfrk" numericwithdecimal
                                    decimals="4" beforedecimals="18"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="cuttingcharges">Cutting Charges [ZCUC]</label>
                                <input class="form-control" type="text" formControlName="cuttingcharges"
                                    numericwithdecimal decimals="4" beforedecimals="18"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="inspectioncharges">Inspection Charges[ZISP]</label>
                                <input class="form-control" type="text" formControlName="inspectioncharges"
                                    numericwithdecimal decimals="4" beforedecimals="18"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                            </div>
                        </div>
                        <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label for="packingcharges">Packing Charges[ZPNF]</label>
                                <input class="form-control" type="text" formControlName="packingcharges"
                                    numericwithdecimal decimals="4" beforedecimals="18"
                                    [attr.disabled]="!isEditSection('additionalfields') ? '' : null" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer text-right">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="onItemAdditionalFieldsCancelClick()">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onItemAdditionalFieldsSaveClick()"
            *ngIf="isEditSection('additionalfields')">Save</button>
    </div>
</ng-template>

<ng-template #ImportSPRItems let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Import SPR Items</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ImportSPRItemsForm">
            <div class="row">
                <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group">
                        <label class="required">Attachments</label>
                        <div><button (click)="fileInput.click()">Select File</button>
                            <input type="file" id="importFile" style="display: none;"
                                (change)="ImportSPRItemsfileChangeListener($event)" #fileInput accept=".xlsx, .xls" />
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-1 col-lg-1 col-md-2 col-sm-12" *ngIf="!isEditSection('offerInformation')">
                    <div class="form-group">
                        <label class="required">Attachments</label>
                    </div>
                </div>
                <div class="col-12 mt-3" *ngIf="ImportSPRItemFiles">
                    <div class="row">
                        <div class="col-md-12 col-lg-6 outer-container-upload-control">
                            <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                    src="../../../../../assets/images/{{setFileTypeIcon(ImportSPRItemFiles.type)}}">
                            </div>
                            <div class="upload-control-filename-container dot-views">
                                <span>{{ImportSPRItemFiles.name}}</span>
                            </div>
                            <div class="upload-control-delete-container">
                                <button class="btn btn-link p-0" (click)="removeImportSPRItemFile()">
                                    <img class="table-icon" src="../../../../../assets/images/icon-delete1.svg"
                                        title="delete image"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <p class="pl-2 pt-2">Click <button type="link" class="btn-link button-link px-1"
                (click)="downloadImportSPRItemSample()">here</button> to download sample file.</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onImportSPRItemSave()">Save</button>
    </div>
</ng-template>

<ng-template #AssigneeModel let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add/Edit Assign To</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="AssigneeForm">
            <div class="row">
                <div class="col-12">
                    <div class="row form-group">
                        <div class="col-12">
                            <div class="form-group">
                                <label for="assignto">Assign To</label>
                                <ng-select [items]="AssignToList" class="form-control" formControlName="assignto"
                                    bindLabel="description" bindValue="userid" placeholder="Please Select">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer text-right">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onAssignToSaveClick()">Save</button>
    </div>
</ng-template>

<ng-template #ArticleValidityModel let-modal>
    <app-article-validity [model]="articleValidityModel" (onYes)="onYesClickforValidity()"
        (onNo)="onNoClickforValidity()" (onCancel)="onValidityModelCancelClick()">
    </app-article-validity>
</ng-template>

<ng-template #SPRInformationModel let-modal>
    <app-spr-information-popup [dataSheetObj]="dataSheetObj" [articleNo]="articleNo" [description]="description"
        (isSavedOrSubmitted)="isSavedOrSubmitted($event)" [isReadOnlyForm]="isReadOnlyForm"
        [isSaveBtnDisplay]="isSaveBtnDisplay" [isDpTxtVisible]="isDpTxtVisible"></app-spr-information-popup>
</ng-template>

<ng-template #ImportSPRForms let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Import SPR Form Datasheet(s)</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                <div class="form-group">
                    <label class="required">Attachments</label>
                    <div><button (click)="fileInput.click()">Select File</button>
                        <input type="file" id="importFile" style="display: none;"
                            (change)="ImportSPRFormfileChangeListener($event)" #fileInput accept=".xlsx, .xls" />
                    </div>
                </div>
            </div>
            <div class="col-12 col-xl-1 col-lg-1 col-md-2 col-sm-12" *ngIf="!isEditSection('offerInformation')">
                <div class="form-group">
                    <label class="required">Attachments</label>
                </div>
            </div>
            <div class="col-12 mt-3" *ngIf="ImportSPRFormFiles">
                <div class="row">
                    <div class="col-md-12 col-lg-6 outer-container-upload-control">
                        <div class="upload-control-filetype-container"><img class="table-icon-lg"
                                src="../../../../../assets/images/{{setFileTypeIcon(ImportSPRFormFiles.type)}}">
                        </div>
                        <div class="upload-control-filename-container dot-views">
                            <span>{{ImportSPRFormFiles.name}}</span>
                        </div>
                        <div class="upload-control-delete-container">
                            <button class="btn btn-link p-0" (click)="removeImportSPRFormFile()">
                                <img class="table-icon" src="../../../../../assets/images/icon-delete1.svg"
                                    title="delete image"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <p class="pl-2 pt-2">Click <button type="link" class="btn-link button-link px-1"
                (click)="downloadImportSPRFormSample()">here</button> to download sample file.</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onImportSPRFormSave()">Proceed</button>
    </div>
</ng-template>

<ng-template #ImportSPRFormsStatus let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Status of import SPR Form Datasheet(s)</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="row" class="col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="overflow-auto" style="max-height: 500px;">
                    <table class="table table-hover table-responsive table-sorting" id="table-opportunities">
                        <thead class="thead-inverse">
                            <tr>
                                <th>Article no</th>
                                <th>Remarks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let isfs of importSPRFormStatus">
                                <td>{{isfs['ARTICLE NO']}}</td>
                                <td>{{isfs['ItemRemarks']}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-orange-outline-s mr-2"
            (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-orange-s" (click)="onProceedtoSaveSPRForm()">Submit</button>
    </div>
</ng-template>